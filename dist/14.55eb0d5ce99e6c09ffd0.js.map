{"version":3,"sources":["webpack:///./components/password_reset_send_link.jsx","webpack:///./components/common/back_button.jsx"],"names":["PasswordResetSendLink","props","_this","_classCallCheck","this","_possibleConstructorReturn","_getPrototypeOf","call","handleSendLink","bind","_assertThisInitialized","state","error","updateText","React","Component","e","_this2","preventDefault","email","ReactDOM","findDOMNode","refs","value","trim","toLowerCase","isEmail","setState","sendPasswordResetEmail","react__WEBPACK_IMPORTED_MODULE_4___default","a","createElement","className","react_intl__WEBPACK_IMPORTED_MODULE_6__","id","defaultMessage","$","reset_form","hide","err","message","update_text","formClass","components_common_back_button_jsx__WEBPACK_IMPORTED_MODULE_10__","onSubmit","ref","type","name","placeholder","Utils","spellCheck","defaultProps","propTypes","params","PropTypes","object","isRequired","BackButton","PureComponent","react__WEBPACK_IMPORTED_MODULE_3___default","react_router_dom__WEBPACK_IMPORTED_MODULE_5__","onClick","to","url","title","localizeMessage","react_intl__WEBPACK_IMPORTED_MODULE_4__","string","func"],"mappings":"28BAeMA,cACF,SAAAA,EAAYC,GAAO,IAAAC,EAAA,mGAAAC,CAAAC,KAAAJ,IACfE,uEAAAG,CAAAD,KAAAE,EAAAN,GAAAO,KAAAH,KAAMH,KAEDO,eAAiBN,EAAKM,eAAeC,KAApBC,IAAAR,KAEtBA,EAAKS,OACDC,MAAO,GACPC,WAAY,IAPDX,8OADaY,IAAMC,kGAWvBC,GAAG,IAAAC,EAAAb,KACdY,EAAEE,iBAEF,IAAIC,EAAQC,IAASC,YAAYjB,KAAKkB,KAAKH,OAAOI,MAAMC,OAAOC,cAC1DN,GAAUO,kBAAQP,IAavBf,KAAKuB,UACDf,MAAO,KAGXgB,YACIT,EACA,WACIF,EAAKU,UACDf,MAAO,KACPC,WACIgB,EAAAC,EAAAC,cAAA,OAAKC,UAAU,kCACXH,EAAAC,EAAAC,cAACE,EAAA,GACGC,GAAG,qBACHC,eAAe,mEAEnBN,EAAAC,EAAAC,cAAA,WACIF,EAAAC,EAAAC,cAAA,SAAIZ,IAERU,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAACE,EAAA,GACGC,GAAG,2BACHC,eAAe,gCAK/BC,IAAEhB,IAASC,YAAYJ,EAAKK,KAAKe,aAAaC,QAElD,SAACC,GACGtB,EAAKU,UACDf,MAAO2B,EAAIC,QACXC,YAAa,UA3CrBrC,KAAKuB,UACDf,MACIiB,EAAAC,EAAAC,cAACE,EAAA,GACGC,GAAI,sBACJC,eAAgB,2EA6ChC,IAAIvB,EAAQ,KACRR,KAAKO,MAAMC,QACXA,EAAQiB,EAAAC,EAAAC,cAAA,OAAKC,UAAU,wBAAuBH,EAAAC,EAAAC,cAAA,SAAOC,UAAU,iBAAiB5B,KAAKO,MAAMC,SAG/F,IAAI8B,EAAY,aAKhB,OAJI9B,IACA8B,GAAa,cAIbb,EAAAC,EAAAC,cAAA,WACIF,EAAAC,EAAAC,cAACY,EAAA,EAAD,MACAd,EAAAC,EAAAC,cAAA,OAAKC,UAAU,aACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,0BACXH,EAAAC,EAAAC,cAAA,UACIF,EAAAC,EAAAC,cAACE,EAAA,GACGC,GAAG,sBACHC,eAAe,oBAGtB/B,KAAKO,MAAME,WACZgB,EAAAC,EAAAC,cAAA,QACIa,SAAUxC,KAAKI,eACfqC,IAAI,cAEJhB,EAAAC,EAAAC,cAAA,SACIF,EAAAC,EAAAC,cAACE,EAAA,GACGC,GAAG,4BACHC,eAAe,yEAGvBN,EAAAC,EAAAC,cAAA,OAAKC,UAAWU,GACZb,EAAAC,EAAAC,cAAA,SACIe,KAAK,QACLd,UAAU,eACVe,KAAK,QACLF,IAAI,QACJG,YAAaC,kBACT,sBACA,SAEJC,WAAW,WAGlBtC,EACDiB,EAAAC,EAAAC,cAAA,UACIe,KAAK,SACLd,UAAU,mBAEVH,EAAAC,EAAAC,cAACE,EAAA,GACGC,GAAG,sBACHC,eAAe,oCAWnDnC,EAAsBmD,gBAEtBnD,EAAsBoD,WAClBC,OAAQC,IAAUC,OAAOC,YAGdxD,8jCC3IMyD,sZAAmB3C,IAAM4C,gGAmBtC,OACIC,EAAA7B,EAAAC,cAAA,OAAKC,UAAU,iBACX2B,EAAA7B,EAAAC,cAAC6B,EAAA,GACGC,QAASzD,KAAKH,MAAM4D,QACpBC,GAAI1D,KAAKH,MAAM8D,KAEfJ,EAAA7B,EAAAC,cAAA,QACIC,UAAU,qBACVgC,MAAOC,0BAAgB,qBAAsB,eAEjDN,EAAA7B,EAAAC,cAACmC,EAAA,GACGhC,GAAG,kBACHC,eAAe,sBA/BlBsB,eAMbM,IAAKT,IAAUa,OAKfN,QAASP,IAAUc,SAXNX,kBAebM,IAAK","file":"14.55eb0d5ce99e6c09ffd0.js","sourcesContent":["// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport $ from 'jquery';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport {FormattedMessage} from 'react-intl';\n\nimport {isEmail} from 'mattermost-redux/utils/helpers';\n\nimport {sendPasswordResetEmail} from 'actions/user_actions.jsx';\nimport * as Utils from 'utils/utils.jsx';\nimport BackButton from 'components/common/back_button.jsx';\n\nclass PasswordResetSendLink extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.handleSendLink = this.handleSendLink.bind(this);\n\n        this.state = {\n            error: '',\n            updateText: '',\n        };\n    }\n    handleSendLink(e) {\n        e.preventDefault();\n\n        var email = ReactDOM.findDOMNode(this.refs.email).value.trim().toLowerCase();\n        if (!email || !isEmail(email)) {\n            this.setState({\n                error: (\n                    <FormattedMessage\n                        id={'password_send.error'}\n                        defaultMessage={'Please enter a valid email address.'}\n                    />\n                ),\n            });\n            return;\n        }\n\n        // End of error checking clear error\n        this.setState({\n            error: '',\n        });\n\n        sendPasswordResetEmail(\n            email,\n            () => {\n                this.setState({\n                    error: null,\n                    updateText: (\n                        <div className='reset-form alert alert-success'>\n                            <FormattedMessage\n                                id='password_send.link'\n                                defaultMessage='If the account exists, a password reset email will be sent to:'\n                            />\n                            <div>\n                                <b>{email}</b>\n                            </div>\n                            <br/>\n                            <FormattedMessage\n                                id='password_send.checkInbox'\n                                defaultMessage='Please check your inbox.'\n                            />\n                        </div>\n                    ),\n                });\n                $(ReactDOM.findDOMNode(this.refs.reset_form)).hide();\n            },\n            (err) => {\n                this.setState({\n                    error: err.message,\n                    update_text: null,\n                });\n            }\n        );\n    }\n    render() {\n        var error = null;\n        if (this.state.error) {\n            error = <div className='form-group has-error'><label className='control-label'>{this.state.error}</label></div>;\n        }\n\n        var formClass = 'form-group';\n        if (error) {\n            formClass += ' has-error';\n        }\n\n        return (\n            <div>\n                <BackButton/>\n                <div className='col-sm-12'>\n                    <div className='signup-team__container'>\n                        <h3>\n                            <FormattedMessage\n                                id='password_send.title'\n                                defaultMessage='Password Reset'\n                            />\n                        </h3>\n                        {this.state.updateText}\n                        <form\n                            onSubmit={this.handleSendLink}\n                            ref='reset_form'\n                        >\n                            <p>\n                                <FormattedMessage\n                                    id='password_send.description'\n                                    defaultMessage='To reset your password, enter the email address you used to sign up'\n                                />\n                            </p>\n                            <div className={formClass}>\n                                <input\n                                    type='email'\n                                    className='form-control'\n                                    name='email'\n                                    ref='email'\n                                    placeholder={Utils.localizeMessage(\n                                        'password_send.email',\n                                        'Email'\n                                    )}\n                                    spellCheck='false'\n                                />\n                            </div>\n                            {error}\n                            <button\n                                type='submit'\n                                className='btn btn-primary'\n                            >\n                                <FormattedMessage\n                                    id='password_send.reset'\n                                    defaultMessage='Reset my password'\n                                />\n                            </button>\n                        </form>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nPasswordResetSendLink.defaultProps = {\n};\nPasswordResetSendLink.propTypes = {\n    params: PropTypes.object.isRequired,\n};\n\nexport default PasswordResetSendLink;\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {FormattedMessage} from 'react-intl';\nimport {Link} from 'react-router-dom';\n\nimport {localizeMessage} from 'utils/utils.jsx';\n\nexport default class BackButton extends React.PureComponent {\n    static propTypes = {\n\n        /**\n         * URL to return to\n         */\n        url: PropTypes.string,\n\n        /**\n         * An optional click handler that will trigger when the user clicks on the back button\n         */\n        onClick: PropTypes.func,\n    };\n\n    static defaultProps = {\n        url: '/',\n    };\n\n    render() {\n        return (\n            <div className='signup-header'>\n                <Link\n                    onClick={this.props.onClick}\n                    to={this.props.url}\n                >\n                    <span\n                        className='fa fa-chevron-left'\n                        title={localizeMessage('generic_icons.back', 'Back Icon')}\n                    />\n                    <FormattedMessage\n                        id='web.header.back'\n                        defaultMessage='Back'\n                    />\n                </Link>\n            </div>\n        );\n    }\n}\n"],"sourceRoot":""}