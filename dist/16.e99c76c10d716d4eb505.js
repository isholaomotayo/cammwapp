(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{1888:function(e,t,n){"use strict";n.r(t);n(136);var a=n(134),o=n(3),r=n(47),i=n(538),l=n(683),s=n(102),c=(n(73),n(72),n(92),n(5)),u=n.n(c),p=n(10),f=n.n(p),m=n(536),g=n(1064),d=n(95),b=n(137),h=n(549),E=n(610),v=n(580),y=n.n(v),S=n(639),w=n(572),O=n(579),_=n(555),L=n(535),N=n(0);function j(e){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function A(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function P(e){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function k(e,t){return(k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function M(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function U(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var C=function(e){function t(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),U(M(M(n=function(e,t){return!t||"object"!==j(t)&&"function"!=typeof t?M(e):t}(this,P(t).call(this,e)))),"handleInvalidInvite",function(e){var t;t="store.sql_user.save.max_accounts.app_error"===e.server_error_id?e.message:f.a.createElement(m.c,{id:"signup_user_completed.invalid_invite",defaultMessage:"The invite link was invalid.  Please speak with your Administrator to receive an invitation."}),n.setState({noOpenServerError:!0,loading:!1,serverError:t})}),n.renderSignupControls=n.renderSignupControls.bind(M(M(n)));var a=!1,o="",r=!1,i=!1;if(n.props.location.search){var l=new URLSearchParams(n.props.location.search),s=l.get("t");null==s&&(s="");var c=l.get("id");null==c&&(c=""),c?a=!0:n.props.loggedIn?c||n.props.enableOpenServer||n.props.noAccounts||(r=!0,o=f.a.createElement(m.c,{id:"signup_user_completed.no_open_server",defaultMessage:"This server does not allow open signups.  Please speak with your Administrator to receive an invitation."})):i=e.usedBefore}return n.state={loading:a,serverError:o,noOpenServerError:r,usedBefore:i},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}(t,f.a.Component),function(e,t,n){t&&A(e.prototype,t),n&&A(e,n)}(t,[{key:"componentDidMount",value:function(){var e=this;if(this.props.actions.removeGlobalItem("team"),this.props.location.search){var t=new URLSearchParams(this.props.location.search),n=t.get("t")||"",a=t.get("id")||"",o=this.props.loggedIn;if((a||n)&&o)return void Object(E.a)(n,a,function(e){b.a.push("/"+e.name+"/channels/".concat(N.e.DEFAULT_CHANNEL))},this.handleInvalidInvite);if(a)return void Object(E.c)(a,function(t){t&&e.setState({serverError:"",loading:!1})},this.handleInvalidInvite);o&&h.t()}}},{key:"renderSignupControls",value:function(){var e=[];if(this.props.enableSignUpWithEmail&&e.push(f.a.createElement(g.a,{className:"btn btn-custom-login btn--full email",key:"email",to:"/signup_email"+window.location.search},f.a.createElement("span",null,f.a.createElement("span",{className:"icon fa fa-envelope",title:Object(L.localizeMessage)("signup.email.icon","Email Icon")}),f.a.createElement(m.c,{id:"signup.email",defaultMessage:"Email and Password"})))),this.props.enableSignUpWithGitLab&&e.push(f.a.createElement("a",{className:"btn btn-custom-login btn--full gitlab",key:"gitlab",href:d.Client4.getOAuthRoute()+"/gitlab/signup"+window.location.search},f.a.createElement("span",null,f.a.createElement("span",{className:"icon"}),f.a.createElement("span",null,f.a.createElement(m.c,{id:"signup.gitlab",defaultMessage:"GitLab Single Sign-On"}))))),this.props.isLicensed&&this.props.enableSignUpWithGoogle&&e.push(f.a.createElement("a",{className:"btn btn-custom-login btn--full google",key:"google",href:d.Client4.getOAuthRoute()+"/google/signup"+window.location.search},f.a.createElement("span",null,f.a.createElement("span",{className:"icon"}),f.a.createElement("span",null,f.a.createElement(m.c,{id:"signup.google",defaultMessage:"Google Account"}))))),this.props.isLicensed&&this.props.enableSignUpWithOffice365&&e.push(f.a.createElement("a",{className:"btn btn-custom-login btn--full office365",key:"office365",href:d.Client4.getOAuthRoute()+"/office365/signup"+window.location.search},f.a.createElement("span",null,f.a.createElement("span",{className:"icon"}),f.a.createElement("span",null,f.a.createElement(m.c,{id:"signup.office365",defaultMessage:"Office 365"}))))),this.props.isLicensed&&this.props.enableLDAP){var t=f.a.createElement(m.c,{id:"signup.ldap",defaultMessage:"AD/LDAP Credentials"});this.props.ldapLoginFieldName&&(t=this.props.ldapLoginFieldName),e.push(f.a.createElement(g.a,{className:"btn btn-custom-login btn--full ldap",key:"ldap",to:"/login"+this.props.location.search},f.a.createElement("span",null,f.a.createElement("span",{className:"icon fa fa-folder-open fa--margin-top",title:Object(L.localizeMessage)("signup.ldap.icon","AD/LDAP Icon")}),f.a.createElement("span",null,t))))}if(this.props.isLicensed&&this.props.enableSAML){var n="";n=window.location.search?"&action=signup":"?action=signup",e.push(f.a.createElement(g.a,{className:"btn btn-custom-login btn--full saml",key:"saml",to:"/login/sso/saml"+window.location.search+n},f.a.createElement("span",null,f.a.createElement("span",{className:"icon fa fa-lock fa--margin-top",title:Object(L.localizeMessage)("signup.saml.icon","SAML Icon")}),f.a.createElement("span",null,this.props.samlLoginButtonText))))}if(0===e.length){var a=f.a.createElement(m.c,{id:"signup_user_completed.none",defaultMessage:"No user creation method has been enabled. Please contact an administrator for access."});e=f.a.createElement(O.a,{error:a,margin:!0})}else if(1===e.length){if(this.props.enableSignUpWithEmail)return b.a.push("/signup_email"+window.location.search);if(this.props.isLicensed&&this.props.enableLDAP)return b.a.push("/login"+window.location.search)}return e}},{key:"render",value:function(){if(this.state.loading)return f.a.createElement(_.a,null);if(this.state.usedBefore)return f.a.createElement("div",null,f.a.createElement(m.c,{id:"signup_user_completed.expired",defaultMessage:"You've already completed the signup process for this invitation or this invitation has expired."}));var e,t=null;return this.state.serverError&&(t=f.a.createElement("div",{className:"form-group has-error"},f.a.createElement("label",{className:"control-label"},this.state.serverError))),e=this.state.noOpenServerError||this.state.usedBefore?null:this.renderSignupControls(),f.a.createElement("div",null,f.a.createElement(S.a,null),f.a.createElement(w.a,null),f.a.createElement("div",{className:"col-sm-12"},f.a.createElement("div",{className:"signup-team__container"},f.a.createElement("img",{className:"signup-team-logo",src:y.a}),f.a.createElement("div",{className:"signup__content"},f.a.createElement("h1",null,this.props.siteName),f.a.createElement("h4",{className:"color--light"},f.a.createElement(m.c,{id:"web.root.signup_info"})),f.a.createElement("div",{className:"margin--extra"},f.a.createElement("h5",null,f.a.createElement("strong",null,f.a.createElement(m.c,{id:"signup.title",defaultMessage:"Create an account with:"})))),e,t),f.a.createElement("span",{className:"color--light"},f.a.createElement(m.c,{id:"signup_user_completed.haveAccount",defaultMessage:"Already have an account?"})," ",f.a.createElement(g.a,{to:"/login"+this.props.location.search},f.a.createElement(m.c,{id:"signup_user_completed.signIn",defaultMessage:"Click here to sign in."}))))))}}]),t}();U(C,"propTypes",{location:u.a.object,loggedIn:u.a.bool.isRequired,isLicensed:u.a.bool.isRequired,enableOpenServer:u.a.bool.isRequired,noAccounts:u.a.bool.isRequired,enableSignUpWithEmail:u.a.bool.isRequired,enableSignUpWithGitLab:u.a.bool.isRequired,enableSignUpWithGoogle:u.a.bool.isRequired,enableSignUpWithOffice365:u.a.bool.isRequired,enableLDAP:u.a.bool.isRequired,enableSAML:u.a.bool.isRequired,samlLoginButtonText:u.a.string,siteName:u.a.string,usedBefore:u.a.string,ldapLoginFieldName:u.a.string.isRequired,actions:u.a.shape({removeGlobalItem:u.a.func.isRequired}).isRequired});t.default=Object(a.connect)(function(e,t){var n,a=Object(r.getLicense)(e),o=Object(r.getConfig)(e),s=a&&"true"===a.IsLicensed,c="true"===o.EnableOpenServer,u="true"===o.NoAccounts,p="true"===o.EnableSignUpWithEmail,f="true"===o.EnableSignUpWithGitLab,m="true"===o.EnableSignUpWithGoogle,g="true"===o.EnableSignUpWithOffice365,d="true"===o.EnableLdap,b="true"===o.EnableSaml,h=o.SamlLoginButtonText,E=o.LdapLoginFieldName,v=o.SiteName;if(t.location.search){var y=new URLSearchParams(t.location.search).get("t");null==y&&(y=""),n=Object(l.a)(e,y,null)}return{loggedIn:Boolean(Object(i.getCurrentUserId)(e)),isLicensed:s,enableOpenServer:c,noAccounts:u,enableSignUpWithEmail:p,enableSignUpWithGitLab:f,enableSignUpWithGoogle:m,enableSignUpWithOffice365:g,enableLDAP:d,enableSAML:b,samlLoginButtonText:h,ldapLoginFieldName:E,siteName:v,usedBefore:n}},function(e){return{actions:Object(o.bindActionCreators)({removeGlobalItem:s.c},e)}})(C)},572:function(e,t,n){"use strict";n.d(t,"a",function(){return b});n(73),n(72);var a=n(5),o=n.n(a),r=n(10),i=n.n(r),l=n(536),s=n(1064),c=n(535);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function f(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),f(this,m(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(t,i.a.PureComponent),function(e,t,n){t&&p(e.prototype,t),n&&p(e,n)}(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"signup-header"},i.a.createElement(s.a,{onClick:this.props.onClick,to:this.props.url},i.a.createElement("span",{className:"fa fa-chevron-left",title:Object(c.localizeMessage)("generic_icons.back","Back Icon")}),i.a.createElement(l.c,{id:"web.header.back",defaultMessage:"Back"})))}}]),t}();d(b,"propTypes",{url:o.a.string,onClick:o.a.func}),d(b,"defaultProps",{url:"/"})},580:function(e,t,n){e.exports=n.p+"files/dab14c86297d09799009bbaba4112d0e.png"}}]);
//# sourceMappingURL=16.e99c76c10d716d4eb505.js.map