(window["webpackJsonp"] = window["webpackJsonp"] || []).push([[32],{

/***/ "./node_modules/bootstrap-colorpicker/dist/js/bootstrap-colorpicker.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/bootstrap-colorpicker/dist/js/bootstrap-colorpicker.js ***!
  \*****************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*!\n * Bootstrap Colorpicker v2.5.2\n * https://itsjavi.com/bootstrap-colorpicker/\n *\n * Originally written by (c) 2012 Stefan Petre\n * Licensed under the Apache License v2.0\n * http://www.apache.org/licenses/LICENSE-2.0.txt\n *\n */\n\n(function(root, factory) {\n  if (true) {\n    // AMD. Register as an anonymous module unless amdModuleId is set\n    !(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(/*! jquery */ \"./node_modules/jquery/src/jquery.js\")], __WEBPACK_AMD_DEFINE_RESULT__ = (function(jq) {\n      return (factory(jq));\n    }).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n  } else {}\n}(this, function($) {\n  'use strict';\n  /**\n   * Color manipulation helper class\n   *\n   * @param {Object|String} [val]\n   * @param {Object} [predefinedColors]\n   * @param {String|null} [fallbackColor]\n   * @param {String|null} [fallbackFormat]\n   * @param {Boolean} [hexNumberSignPrefix]\n   * @constructor\n   */\n  var Color = function(\n    val, predefinedColors, fallbackColor, fallbackFormat, hexNumberSignPrefix) {\n    this.fallbackValue = fallbackColor ?\n      (\n        fallbackColor && (typeof fallbackColor.h !== 'undefined') ?\n        fallbackColor :\n        this.value = {\n          h: 0,\n          s: 0,\n          b: 0,\n          a: 1\n        }\n      ) :\n      null;\n\n    this.fallbackFormat = fallbackFormat ? fallbackFormat : 'rgba';\n\n    this.hexNumberSignPrefix = hexNumberSignPrefix === true;\n\n    this.value = this.fallbackValue;\n\n    this.origFormat = null; // original string format\n\n    this.predefinedColors = predefinedColors ? predefinedColors : {};\n\n    // We don't want to share aliases across instances so we extend new object\n    this.colors = $.extend({}, Color.webColors, this.predefinedColors);\n\n    if (val) {\n      if (typeof val.h !== 'undefined') {\n        this.value = val;\n      } else {\n        this.setColor(String(val));\n      }\n    }\n\n    if (!this.value) {\n      // Initial value is always black if no arguments are passed or val is empty\n      this.value = {\n        h: 0,\n        s: 0,\n        b: 0,\n        a: 1\n      };\n    }\n  };\n\n  Color.webColors = { // 140 predefined colors from the HTML Colors spec\n    \"aliceblue\": \"f0f8ff\",\n    \"antiquewhite\": \"faebd7\",\n    \"aqua\": \"00ffff\",\n    \"aquamarine\": \"7fffd4\",\n    \"azure\": \"f0ffff\",\n    \"beige\": \"f5f5dc\",\n    \"bisque\": \"ffe4c4\",\n    \"black\": \"000000\",\n    \"blanchedalmond\": \"ffebcd\",\n    \"blue\": \"0000ff\",\n    \"blueviolet\": \"8a2be2\",\n    \"brown\": \"a52a2a\",\n    \"burlywood\": \"deb887\",\n    \"cadetblue\": \"5f9ea0\",\n    \"chartreuse\": \"7fff00\",\n    \"chocolate\": \"d2691e\",\n    \"coral\": \"ff7f50\",\n    \"cornflowerblue\": \"6495ed\",\n    \"cornsilk\": \"fff8dc\",\n    \"crimson\": \"dc143c\",\n    \"cyan\": \"00ffff\",\n    \"darkblue\": \"00008b\",\n    \"darkcyan\": \"008b8b\",\n    \"darkgoldenrod\": \"b8860b\",\n    \"darkgray\": \"a9a9a9\",\n    \"darkgreen\": \"006400\",\n    \"darkkhaki\": \"bdb76b\",\n    \"darkmagenta\": \"8b008b\",\n    \"darkolivegreen\": \"556b2f\",\n    \"darkorange\": \"ff8c00\",\n    \"darkorchid\": \"9932cc\",\n    \"darkred\": \"8b0000\",\n    \"darksalmon\": \"e9967a\",\n    \"darkseagreen\": \"8fbc8f\",\n    \"darkslateblue\": \"483d8b\",\n    \"darkslategray\": \"2f4f4f\",\n    \"darkturquoise\": \"00ced1\",\n    \"darkviolet\": \"9400d3\",\n    \"deeppink\": \"ff1493\",\n    \"deepskyblue\": \"00bfff\",\n    \"dimgray\": \"696969\",\n    \"dodgerblue\": \"1e90ff\",\n    \"firebrick\": \"b22222\",\n    \"floralwhite\": \"fffaf0\",\n    \"forestgreen\": \"228b22\",\n    \"fuchsia\": \"ff00ff\",\n    \"gainsboro\": \"dcdcdc\",\n    \"ghostwhite\": \"f8f8ff\",\n    \"gold\": \"ffd700\",\n    \"goldenrod\": \"daa520\",\n    \"gray\": \"808080\",\n    \"green\": \"008000\",\n    \"greenyellow\": \"adff2f\",\n    \"honeydew\": \"f0fff0\",\n    \"hotpink\": \"ff69b4\",\n    \"indianred\": \"cd5c5c\",\n    \"indigo\": \"4b0082\",\n    \"ivory\": \"fffff0\",\n    \"khaki\": \"f0e68c\",\n    \"lavender\": \"e6e6fa\",\n    \"lavenderblush\": \"fff0f5\",\n    \"lawngreen\": \"7cfc00\",\n    \"lemonchiffon\": \"fffacd\",\n    \"lightblue\": \"add8e6\",\n    \"lightcoral\": \"f08080\",\n    \"lightcyan\": \"e0ffff\",\n    \"lightgoldenrodyellow\": \"fafad2\",\n    \"lightgrey\": \"d3d3d3\",\n    \"lightgreen\": \"90ee90\",\n    \"lightpink\": \"ffb6c1\",\n    \"lightsalmon\": \"ffa07a\",\n    \"lightseagreen\": \"20b2aa\",\n    \"lightskyblue\": \"87cefa\",\n    \"lightslategray\": \"778899\",\n    \"lightsteelblue\": \"b0c4de\",\n    \"lightyellow\": \"ffffe0\",\n    \"lime\": \"00ff00\",\n    \"limegreen\": \"32cd32\",\n    \"linen\": \"faf0e6\",\n    \"magenta\": \"ff00ff\",\n    \"maroon\": \"800000\",\n    \"mediumaquamarine\": \"66cdaa\",\n    \"mediumblue\": \"0000cd\",\n    \"mediumorchid\": \"ba55d3\",\n    \"mediumpurple\": \"9370d8\",\n    \"mediumseagreen\": \"3cb371\",\n    \"mediumslateblue\": \"7b68ee\",\n    \"mediumspringgreen\": \"00fa9a\",\n    \"mediumturquoise\": \"48d1cc\",\n    \"mediumvioletred\": \"c71585\",\n    \"midnightblue\": \"191970\",\n    \"mintcream\": \"f5fffa\",\n    \"mistyrose\": \"ffe4e1\",\n    \"moccasin\": \"ffe4b5\",\n    \"navajowhite\": \"ffdead\",\n    \"navy\": \"000080\",\n    \"oldlace\": \"fdf5e6\",\n    \"olive\": \"808000\",\n    \"olivedrab\": \"6b8e23\",\n    \"orange\": \"ffa500\",\n    \"orangered\": \"ff4500\",\n    \"orchid\": \"da70d6\",\n    \"palegoldenrod\": \"eee8aa\",\n    \"palegreen\": \"98fb98\",\n    \"paleturquoise\": \"afeeee\",\n    \"palevioletred\": \"d87093\",\n    \"papayawhip\": \"ffefd5\",\n    \"peachpuff\": \"ffdab9\",\n    \"peru\": \"cd853f\",\n    \"pink\": \"ffc0cb\",\n    \"plum\": \"dda0dd\",\n    \"powderblue\": \"b0e0e6\",\n    \"purple\": \"800080\",\n    \"red\": \"ff0000\",\n    \"rosybrown\": \"bc8f8f\",\n    \"royalblue\": \"4169e1\",\n    \"saddlebrown\": \"8b4513\",\n    \"salmon\": \"fa8072\",\n    \"sandybrown\": \"f4a460\",\n    \"seagreen\": \"2e8b57\",\n    \"seashell\": \"fff5ee\",\n    \"sienna\": \"a0522d\",\n    \"silver\": \"c0c0c0\",\n    \"skyblue\": \"87ceeb\",\n    \"slateblue\": \"6a5acd\",\n    \"slategray\": \"708090\",\n    \"snow\": \"fffafa\",\n    \"springgreen\": \"00ff7f\",\n    \"steelblue\": \"4682b4\",\n    \"tan\": \"d2b48c\",\n    \"teal\": \"008080\",\n    \"thistle\": \"d8bfd8\",\n    \"tomato\": \"ff6347\",\n    \"turquoise\": \"40e0d0\",\n    \"violet\": \"ee82ee\",\n    \"wheat\": \"f5deb3\",\n    \"white\": \"ffffff\",\n    \"whitesmoke\": \"f5f5f5\",\n    \"yellow\": \"ffff00\",\n    \"yellowgreen\": \"9acd32\",\n    \"transparent\": \"transparent\"\n  };\n\n  Color.prototype = {\n    constructor: Color,\n    colors: {}, // merged web and predefined colors\n    predefinedColors: {},\n    /**\n     * @return {Object}\n     */\n    getValue: function() {\n      return this.value;\n    },\n    /**\n     * @param {Object} val\n     */\n    setValue: function(val) {\n      this.value = val;\n    },\n    _sanitizeNumber: function(val) {\n      if (typeof val === 'number') {\n        return val;\n      }\n      if (isNaN(val) || (val === null) || (val === '') || (val === undefined)) {\n        return 1;\n      }\n      if (val === '') {\n        return 0;\n      }\n      if (typeof val.toLowerCase !== 'undefined') {\n        if (val.match(/^\\./)) {\n          val = \"0\" + val;\n        }\n        return Math.ceil(parseFloat(val) * 100) / 100;\n      }\n      return 1;\n    },\n    isTransparent: function(strVal) {\n      if (!strVal || !(typeof strVal === 'string' || strVal instanceof String)) {\n        return false;\n      }\n      strVal = strVal.toLowerCase().trim();\n      return (strVal === 'transparent') || (strVal.match(/#?00000000/)) || (strVal.match(/(rgba|hsla)\\(0,0,0,0?\\.?0\\)/));\n    },\n    rgbaIsTransparent: function(rgba) {\n      return ((rgba.r === 0) && (rgba.g === 0) && (rgba.b === 0) && (rgba.a === 0));\n    },\n    // parse a string to HSB\n    /**\n     * @protected\n     * @param {String} strVal\n     * @returns {boolean} Returns true if it could be parsed, false otherwise\n     */\n    setColor: function(strVal) {\n      strVal = strVal.toLowerCase().trim();\n      if (strVal) {\n        if (this.isTransparent(strVal)) {\n          this.value = {\n            h: 0,\n            s: 0,\n            b: 0,\n            a: 0\n          };\n          return true;\n        } else {\n          var parsedColor = this.parse(strVal);\n          if (parsedColor) {\n            this.value = this.value = {\n              h: parsedColor.h,\n              s: parsedColor.s,\n              b: parsedColor.b,\n              a: parsedColor.a\n            };\n            if (!this.origFormat) {\n              this.origFormat = parsedColor.format;\n            }\n          } else if (this.fallbackValue) {\n            // if parser fails, defaults to fallbackValue if defined, otherwise the value won't be changed\n            this.value = this.fallbackValue;\n          }\n        }\n      }\n      return false;\n    },\n    setHue: function(h) {\n      this.value.h = 1 - h;\n    },\n    setSaturation: function(s) {\n      this.value.s = s;\n    },\n    setBrightness: function(b) {\n      this.value.b = 1 - b;\n    },\n    setAlpha: function(a) {\n      this.value.a = Math.round((parseInt((1 - a) * 100, 10) / 100) * 100) / 100;\n    },\n    toRGB: function(h, s, b, a) {\n      if (arguments.length === 0) {\n        h = this.value.h;\n        s = this.value.s;\n        b = this.value.b;\n        a = this.value.a;\n      }\n\n      h *= 360;\n      var R, G, B, X, C;\n      h = (h % 360) / 60;\n      C = b * s;\n      X = C * (1 - Math.abs(h % 2 - 1));\n      R = G = B = b - C;\n\n      h = ~~h;\n      R += [C, X, 0, 0, X, C][h];\n      G += [X, C, C, X, 0, 0][h];\n      B += [0, 0, X, C, C, X][h];\n\n      return {\n        r: Math.round(R * 255),\n        g: Math.round(G * 255),\n        b: Math.round(B * 255),\n        a: a\n      };\n    },\n    toHex: function(ignoreFormat, h, s, b, a) {\n      if (arguments.length <= 1) {\n        h = this.value.h;\n        s = this.value.s;\n        b = this.value.b;\n        a = this.value.a;\n      }\n\n      var prefix = '#';\n      var rgb = this.toRGB(h, s, b, a);\n\n      if (this.rgbaIsTransparent(rgb)) {\n        return 'transparent';\n      }\n\n      if (!ignoreFormat) {\n        prefix = (this.hexNumberSignPrefix ? '#' : '');\n      }\n\n      var hexStr = prefix + (\n          (1 << 24) +\n          (parseInt(rgb.r) << 16) +\n          (parseInt(rgb.g) << 8) +\n          parseInt(rgb.b))\n        .toString(16)\n        .slice(1);\n\n      return hexStr;\n    },\n    toHSL: function(h, s, b, a) {\n      if (arguments.length === 0) {\n        h = this.value.h;\n        s = this.value.s;\n        b = this.value.b;\n        a = this.value.a;\n      }\n\n      var H = h,\n        L = (2 - s) * b,\n        S = s * b;\n      if (L > 0 && L <= 1) {\n        S /= L;\n      } else {\n        S /= 2 - L;\n      }\n      L /= 2;\n      if (S > 1) {\n        S = 1;\n      }\n      return {\n        h: isNaN(H) ? 0 : H,\n        s: isNaN(S) ? 0 : S,\n        l: isNaN(L) ? 0 : L,\n        a: isNaN(a) ? 0 : a\n      };\n    },\n    toAlias: function(r, g, b, a) {\n      var c, rgb = (arguments.length === 0) ? this.toHex(true) : this.toHex(true, r, g, b, a);\n\n      // support predef. colors in non-hex format too, as defined in the alias itself\n      var original = this.origFormat === 'alias' ? rgb : this.toString(false, this.origFormat);\n\n      for (var alias in this.colors) {\n        c = this.colors[alias].toLowerCase().trim();\n        if ((c === rgb) || (c === original)) {\n          return alias;\n        }\n      }\n      return false;\n    },\n    RGBtoHSB: function(r, g, b, a) {\n      r /= 255;\n      g /= 255;\n      b /= 255;\n\n      var H, S, V, C;\n      V = Math.max(r, g, b);\n      C = V - Math.min(r, g, b);\n      H = (C === 0 ? null :\n        V === r ? (g - b) / C :\n        V === g ? (b - r) / C + 2 :\n        (r - g) / C + 4\n      );\n      H = ((H + 360) % 6) * 60 / 360;\n      S = C === 0 ? 0 : C / V;\n      return {\n        h: this._sanitizeNumber(H),\n        s: S,\n        b: V,\n        a: this._sanitizeNumber(a)\n      };\n    },\n    HueToRGB: function(p, q, h) {\n      if (h < 0) {\n        h += 1;\n      } else if (h > 1) {\n        h -= 1;\n      }\n      if ((h * 6) < 1) {\n        return p + (q - p) * h * 6;\n      } else if ((h * 2) < 1) {\n        return q;\n      } else if ((h * 3) < 2) {\n        return p + (q - p) * ((2 / 3) - h) * 6;\n      } else {\n        return p;\n      }\n    },\n    HSLtoRGB: function(h, s, l, a) {\n      if (s < 0) {\n        s = 0;\n      }\n      var q;\n      if (l <= 0.5) {\n        q = l * (1 + s);\n      } else {\n        q = l + s - (l * s);\n      }\n\n      var p = 2 * l - q;\n\n      var tr = h + (1 / 3);\n      var tg = h;\n      var tb = h - (1 / 3);\n\n      var r = Math.round(this.HueToRGB(p, q, tr) * 255);\n      var g = Math.round(this.HueToRGB(p, q, tg) * 255);\n      var b = Math.round(this.HueToRGB(p, q, tb) * 255);\n      return [r, g, b, this._sanitizeNumber(a)];\n    },\n    /**\n     * @param {String} strVal\n     * @returns {Object} Object containing h,s,b,a,format properties or FALSE if failed to parse\n     */\n    parse: function(strVal) {\n      if (arguments.length === 0) {\n        return false;\n      }\n\n      var that = this,\n        result = false,\n        isAlias = (typeof this.colors[strVal] !== 'undefined'),\n        values, format;\n\n      if (isAlias) {\n        strVal = this.colors[strVal].toLowerCase().trim();\n      }\n\n      $.each(this.stringParsers, function(i, parser) {\n        var match = parser.re.exec(strVal);\n        values = match && parser.parse.apply(that, [match]);\n        if (values) {\n          result = {};\n          format = (isAlias ? 'alias' : (parser.format ? parser.format : that.getValidFallbackFormat()));\n          if (format.match(/hsla?/)) {\n            result = that.RGBtoHSB.apply(that, that.HSLtoRGB.apply(that, values));\n          } else {\n            result = that.RGBtoHSB.apply(that, values);\n          }\n          if (result instanceof Object) {\n            result.format = format;\n          }\n          return false; // stop iterating\n        }\n        return true;\n      });\n      return result;\n    },\n    getValidFallbackFormat: function() {\n      var formats = [\n        'rgba', 'rgb', 'hex', 'hsla', 'hsl'\n      ];\n      if (this.origFormat && (formats.indexOf(this.origFormat) !== -1)) {\n        return this.origFormat;\n      }\n      if (this.fallbackFormat && (formats.indexOf(this.fallbackFormat) !== -1)) {\n        return this.fallbackFormat;\n      }\n\n      return 'rgba'; // By default, return a format that will not lose the alpha info\n    },\n    /**\n     *\n     * @param {string} [format] (default: rgba)\n     * @param {boolean} [translateAlias] Return real color for pre-defined (non-standard) aliases (default: false)\n     * @param {boolean} [forceRawValue] Forces hashtag prefix when getting hex color (default: false)\n     * @returns {String}\n     */\n    toString: function(forceRawValue, format, translateAlias) {\n      format = format || this.origFormat || this.fallbackFormat;\n      translateAlias = translateAlias || false;\n\n      var c = false;\n\n      switch (format) {\n        case 'rgb':\n          {\n            c = this.toRGB();\n            if (this.rgbaIsTransparent(c)) {\n              return 'transparent';\n            }\n            return 'rgb(' + c.r + ',' + c.g + ',' + c.b + ')';\n          }\n          break;\n        case 'rgba':\n          {\n            c = this.toRGB();\n            return 'rgba(' + c.r + ',' + c.g + ',' + c.b + ',' + c.a + ')';\n          }\n          break;\n        case 'hsl':\n          {\n            c = this.toHSL();\n            return 'hsl(' + Math.round(c.h * 360) + ',' + Math.round(c.s * 100) + '%,' + Math.round(c.l * 100) + '%)';\n          }\n          break;\n        case 'hsla':\n          {\n            c = this.toHSL();\n            return 'hsla(' + Math.round(c.h * 360) + ',' + Math.round(c.s * 100) + '%,' + Math.round(c.l * 100) + '%,' + c.a + ')';\n          }\n          break;\n        case 'hex':\n          {\n            return this.toHex(forceRawValue);\n          }\n          break;\n        case 'alias':\n          {\n            c = this.toAlias();\n\n            if (c === false) {\n              return this.toString(forceRawValue, this.getValidFallbackFormat());\n            }\n\n            if (translateAlias && !(c in Color.webColors) && (c in this.predefinedColors)) {\n              return this.predefinedColors[c];\n            }\n\n            return c;\n          }\n        default:\n          {\n            return c;\n          }\n          break;\n      }\n    },\n    // a set of RE's that can match strings and generate color tuples.\n    // from John Resig color plugin\n    // https://github.com/jquery/jquery-color/\n    stringParsers: [{\n      re: /rgb\\(\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*?\\)/,\n      format: 'rgb',\n      parse: function(execResult) {\n        return [\n          execResult[1],\n          execResult[2],\n          execResult[3],\n          1\n        ];\n      }\n    }, {\n      re: /rgb\\(\\s*(\\d*(?:\\.\\d+)?)\\%\\s*,\\s*(\\d*(?:\\.\\d+)?)\\%\\s*,\\s*(\\d*(?:\\.\\d+)?)\\%\\s*?\\)/,\n      format: 'rgb',\n      parse: function(execResult) {\n        return [\n          2.55 * execResult[1],\n          2.55 * execResult[2],\n          2.55 * execResult[3],\n          1\n        ];\n      }\n    }, {\n      re: /rgba\\(\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*(?:,\\s*(\\d*(?:\\.\\d+)?)\\s*)?\\)/,\n      format: 'rgba',\n      parse: function(execResult) {\n        return [\n          execResult[1],\n          execResult[2],\n          execResult[3],\n          execResult[4]\n        ];\n      }\n    }, {\n      re: /rgba\\(\\s*(\\d*(?:\\.\\d+)?)\\%\\s*,\\s*(\\d*(?:\\.\\d+)?)\\%\\s*,\\s*(\\d*(?:\\.\\d+)?)\\%\\s*(?:,\\s*(\\d*(?:\\.\\d+)?)\\s*)?\\)/,\n      format: 'rgba',\n      parse: function(execResult) {\n        return [\n          2.55 * execResult[1],\n          2.55 * execResult[2],\n          2.55 * execResult[3],\n          execResult[4]\n        ];\n      }\n    }, {\n      re: /hsl\\(\\s*(\\d*(?:\\.\\d+)?)\\s*,\\s*(\\d*(?:\\.\\d+)?)\\%\\s*,\\s*(\\d*(?:\\.\\d+)?)\\%\\s*?\\)/,\n      format: 'hsl',\n      parse: function(execResult) {\n        return [\n          execResult[1] / 360,\n          execResult[2] / 100,\n          execResult[3] / 100,\n          execResult[4]\n        ];\n      }\n    }, {\n      re: /hsla\\(\\s*(\\d*(?:\\.\\d+)?)\\s*,\\s*(\\d*(?:\\.\\d+)?)\\%\\s*,\\s*(\\d*(?:\\.\\d+)?)\\%\\s*(?:,\\s*(\\d*(?:\\.\\d+)?)\\s*)?\\)/,\n      format: 'hsla',\n      parse: function(execResult) {\n        return [\n          execResult[1] / 360,\n          execResult[2] / 100,\n          execResult[3] / 100,\n          execResult[4]\n        ];\n      }\n    }, {\n      re: /#?([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/,\n      format: 'hex',\n      parse: function(execResult) {\n        return [\n          parseInt(execResult[1], 16),\n          parseInt(execResult[2], 16),\n          parseInt(execResult[3], 16),\n          1\n        ];\n      }\n    }, {\n      re: /#?([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/,\n      format: 'hex',\n      parse: function(execResult) {\n        return [\n          parseInt(execResult[1] + execResult[1], 16),\n          parseInt(execResult[2] + execResult[2], 16),\n          parseInt(execResult[3] + execResult[3], 16),\n          1\n        ];\n      }\n    }],\n    colorNameToHex: function(name) {\n      if (typeof this.colors[name.toLowerCase()] !== 'undefined') {\n        return this.colors[name.toLowerCase()];\n      }\n      return false;\n    }\n  };\n\n  /*\n   * Default plugin options\n   */\n  var defaults = {\n    horizontal: false, // horizontal mode layout ?\n    inline: false, //forces to show the colorpicker as an inline element\n    color: false, //forces a color\n    format: false, //forces a format\n    input: 'input', // children input selector\n    container: false, // container selector\n    component: '.add-on, .input-group-addon', // children component selector\n    fallbackColor: false, // fallback color value. null = keeps current color.\n    fallbackFormat: 'hex', // fallback color format\n    hexNumberSignPrefix: true, // put a '#' (number sign) before hex strings\n    sliders: {\n      saturation: {\n        maxLeft: 100,\n        maxTop: 100,\n        callLeft: 'setSaturation',\n        callTop: 'setBrightness'\n      },\n      hue: {\n        maxLeft: 0,\n        maxTop: 100,\n        callLeft: false,\n        callTop: 'setHue'\n      },\n      alpha: {\n        maxLeft: 0,\n        maxTop: 100,\n        callLeft: false,\n        callTop: 'setAlpha'\n      }\n    },\n    slidersHorz: {\n      saturation: {\n        maxLeft: 100,\n        maxTop: 100,\n        callLeft: 'setSaturation',\n        callTop: 'setBrightness'\n      },\n      hue: {\n        maxLeft: 100,\n        maxTop: 0,\n        callLeft: 'setHue',\n        callTop: false\n      },\n      alpha: {\n        maxLeft: 100,\n        maxTop: 0,\n        callLeft: 'setAlpha',\n        callTop: false\n      }\n    },\n    template: '<div class=\"colorpicker dropdown-menu\">' +\n      '<div class=\"colorpicker-saturation\"><i><b></b></i></div>' +\n      '<div class=\"colorpicker-hue\"><i></i></div>' +\n      '<div class=\"colorpicker-alpha\"><i></i></div>' +\n      '<div class=\"colorpicker-color\"><div /></div>' +\n      '<div class=\"colorpicker-selectors\"></div>' +\n      '</div>',\n    align: 'right',\n    customClass: null, // custom class added to the colorpicker element\n    colorSelectors: null // custom color aliases\n  };\n\n  /**\n   * Colorpicker component class\n   *\n   * @param {Object|String} element\n   * @param {Object} options\n   * @constructor\n   */\n  var Colorpicker = function(element, options) {\n    this.element = $(element).addClass('colorpicker-element');\n    this.options = $.extend(true, {}, defaults, this.element.data(), options);\n    this.component = this.options.component;\n    this.component = (this.component !== false) ? this.element.find(this.component) : false;\n    if (this.component && (this.component.length === 0)) {\n      this.component = false;\n    }\n    this.container = (this.options.container === true) ? this.element : this.options.container;\n    this.container = (this.container !== false) ? $(this.container) : false;\n\n    // Is the element an input? Should we search inside for any input?\n    this.input = this.element.is('input') ? this.element : (this.options.input ?\n      this.element.find(this.options.input) : false);\n    if (this.input && (this.input.length === 0)) {\n      this.input = false;\n    }\n    // Set HSB color\n    this.color = this.createColor(this.options.color !== false ? this.options.color : this.getValue());\n\n    this.format = this.options.format !== false ? this.options.format : this.color.origFormat;\n\n    if (this.options.color !== false) {\n      this.updateInput(this.color);\n      this.updateData(this.color);\n    }\n\n    this.disabled = false;\n\n    // Setup picker\n    var $picker = this.picker = $(this.options.template);\n    if (this.options.customClass) {\n      $picker.addClass(this.options.customClass);\n    }\n    if (this.options.inline) {\n      $picker.addClass('colorpicker-inline colorpicker-visible');\n    } else {\n      $picker.addClass('colorpicker-hidden');\n    }\n    if (this.options.horizontal) {\n      $picker.addClass('colorpicker-horizontal');\n    }\n    if (\n      (['rgba', 'hsla', 'alias'].indexOf(this.format) !== -1) ||\n      this.options.format === false ||\n      this.getValue() === 'transparent'\n    ) {\n      $picker.addClass('colorpicker-with-alpha');\n    }\n    if (this.options.align === 'right') {\n      $picker.addClass('colorpicker-right');\n    }\n    if (this.options.inline === true) {\n      $picker.addClass('colorpicker-no-arrow');\n    }\n    if (this.options.colorSelectors) {\n      var colorpicker = this,\n        selectorsContainer = colorpicker.picker.find('.colorpicker-selectors');\n\n      if (selectorsContainer.length > 0) {\n        $.each(this.options.colorSelectors, function(name, color) {\n          var $btn = $('<i />')\n            .addClass('colorpicker-selectors-color')\n            .css('background-color', color)\n            .data('class', name).data('alias', name);\n\n          $btn.on('mousedown.colorpicker touchstart.colorpicker', function(event) {\n            event.preventDefault();\n            colorpicker.setValue(\n              colorpicker.format === 'alias' ? $(this).data('alias') : $(this).css('background-color')\n            );\n          });\n          selectorsContainer.append($btn);\n        });\n        selectorsContainer.show().addClass('colorpicker-visible');\n      }\n    }\n\n    // Prevent closing the colorpicker when clicking on itself\n    $picker.on('mousedown.colorpicker touchstart.colorpicker', $.proxy(function(e) {\n      if (e.target === e.currentTarget) {\n        e.preventDefault();\n      }\n    }, this));\n\n    // Bind click/tap events on the sliders\n    $picker.find('.colorpicker-saturation, .colorpicker-hue, .colorpicker-alpha')\n      .on('mousedown.colorpicker touchstart.colorpicker', $.proxy(this.mousedown, this));\n\n    $picker.appendTo(this.container ? this.container : $('body'));\n\n    // Bind other events\n    if (this.input !== false) {\n      this.input.on({\n        'keyup.colorpicker': $.proxy(this.keyup, this)\n      });\n      this.input.on({\n        'change.colorpicker': $.proxy(this.change, this)\n      });\n      if (this.component === false) {\n        this.element.on({\n          'focus.colorpicker': $.proxy(this.show, this)\n        });\n      }\n      if (this.options.inline === false) {\n        this.element.on({\n          'focusout.colorpicker': $.proxy(this.hide, this)\n        });\n      }\n    }\n\n    if (this.component !== false) {\n      this.component.on({\n        'click.colorpicker': $.proxy(this.show, this)\n      });\n    }\n\n    if ((this.input === false) && (this.component === false)) {\n      this.element.on({\n        'click.colorpicker': $.proxy(this.show, this)\n      });\n    }\n\n    // for HTML5 input[type='color']\n    if ((this.input !== false) && (this.component !== false) && (this.input.attr('type') === 'color')) {\n\n      this.input.on({\n        'click.colorpicker': $.proxy(this.show, this),\n        'focus.colorpicker': $.proxy(this.show, this)\n      });\n    }\n    this.update();\n\n    $($.proxy(function() {\n      this.element.trigger('create');\n    }, this));\n  };\n\n  Colorpicker.Color = Color;\n\n  Colorpicker.prototype = {\n    constructor: Colorpicker,\n    destroy: function() {\n      this.picker.remove();\n      this.element.removeData('colorpicker', 'color').off('.colorpicker');\n      if (this.input !== false) {\n        this.input.off('.colorpicker');\n      }\n      if (this.component !== false) {\n        this.component.off('.colorpicker');\n      }\n      this.element.removeClass('colorpicker-element');\n      this.element.trigger({\n        type: 'destroy'\n      });\n    },\n    reposition: function() {\n      if (this.options.inline !== false || this.options.container) {\n        return false;\n      }\n      var type = this.container && this.container[0] !== window.document.body ? 'position' : 'offset';\n      var element = this.component || this.element;\n      var offset = element[type]();\n      if (this.options.align === 'right') {\n        offset.left -= this.picker.outerWidth() - element.outerWidth();\n      }\n      this.picker.css({\n        top: offset.top + element.outerHeight(),\n        left: offset.left\n      });\n    },\n    show: function(e) {\n      if (this.isDisabled()) {\n        // Don't show the widget if it's disabled (the input)\n        return;\n      }\n      this.picker.addClass('colorpicker-visible').removeClass('colorpicker-hidden');\n      this.reposition();\n      $(window).on('resize.colorpicker', $.proxy(this.reposition, this));\n      if (e && (!this.hasInput() || this.input.attr('type') === 'color')) {\n        if (e.stopPropagation && e.preventDefault) {\n          e.stopPropagation();\n          e.preventDefault();\n        }\n      }\n      if ((this.component || !this.input) && (this.options.inline === false)) {\n        $(window.document).on({\n          'mousedown.colorpicker': $.proxy(this.hide, this)\n        });\n      }\n      this.element.trigger({\n        type: 'showPicker',\n        color: this.color\n      });\n    },\n    hide: function(e) {\n      if ((typeof e !== 'undefined') && e.target) {\n        // Prevent hide if triggered by an event and an element inside the colorpicker has been clicked/touched\n        if (\n          $(e.currentTarget).parents('.colorpicker').length > 0 ||\n          $(e.target).parents('.colorpicker').length > 0\n        ) {\n          return false;\n        }\n      }\n      this.picker.addClass('colorpicker-hidden').removeClass('colorpicker-visible');\n      $(window).off('resize.colorpicker', this.reposition);\n      $(window.document).off({\n        'mousedown.colorpicker': this.hide\n      });\n      this.update();\n      this.element.trigger({\n        type: 'hidePicker',\n        color: this.color\n      });\n    },\n    updateData: function(val) {\n      val = val || this.color.toString(false, this.format);\n      this.element.data('color', val);\n      return val;\n    },\n    updateInput: function(val) {\n      val = val || this.color.toString(false, this.format);\n      if (this.input !== false) {\n        this.input.prop('value', val);\n        this.input.trigger('change');\n      }\n      return val;\n    },\n    updatePicker: function(val) {\n      if (typeof val !== 'undefined') {\n        this.color = this.createColor(val);\n      }\n      var sl = (this.options.horizontal === false) ? this.options.sliders : this.options.slidersHorz;\n      var icns = this.picker.find('i');\n      if (icns.length === 0) {\n        return;\n      }\n      if (this.options.horizontal === false) {\n        sl = this.options.sliders;\n        icns.eq(1).css('top', sl.hue.maxTop * (1 - this.color.value.h)).end()\n          .eq(2).css('top', sl.alpha.maxTop * (1 - this.color.value.a));\n      } else {\n        sl = this.options.slidersHorz;\n        icns.eq(1).css('left', sl.hue.maxLeft * (1 - this.color.value.h)).end()\n          .eq(2).css('left', sl.alpha.maxLeft * (1 - this.color.value.a));\n      }\n      icns.eq(0).css({\n        'top': sl.saturation.maxTop - this.color.value.b * sl.saturation.maxTop,\n        'left': this.color.value.s * sl.saturation.maxLeft\n      });\n\n      this.picker.find('.colorpicker-saturation')\n        .css('backgroundColor', this.color.toHex(true, this.color.value.h, 1, 1, 1));\n\n      this.picker.find('.colorpicker-alpha')\n        .css('backgroundColor', this.color.toHex(true));\n\n      this.picker.find('.colorpicker-color, .colorpicker-color div')\n        .css('backgroundColor', this.color.toString(true, this.format));\n\n      return val;\n    },\n    updateComponent: function(val) {\n      var color;\n\n      if (typeof val !== 'undefined') {\n        color = this.createColor(val);\n      } else {\n        color = this.color;\n      }\n\n      if (this.component !== false) {\n        var icn = this.component.find('i').eq(0);\n        if (icn.length > 0) {\n          icn.css({\n            'backgroundColor': color.toString(true, this.format)\n          });\n        } else {\n          this.component.css({\n            'backgroundColor': color.toString(true, this.format)\n          });\n        }\n      }\n\n      return color.toString(false, this.format);\n    },\n    update: function(force) {\n      var val;\n      if ((this.getValue(false) !== false) || (force === true)) {\n        // Update input/data only if the current value is not empty\n        val = this.updateComponent();\n        this.updateInput(val);\n        this.updateData(val);\n        this.updatePicker(); // only update picker if value is not empty\n      }\n      return val;\n\n    },\n    setValue: function(val) { // set color manually\n      this.color = this.createColor(val);\n      this.update(true);\n      this.element.trigger({\n        type: 'changeColor',\n        color: this.color,\n        value: val\n      });\n    },\n    /**\n     * Creates a new color using the instance options\n     * @protected\n     * @param {String} val\n     * @returns {Color}\n     */\n    createColor: function(val) {\n      return new Color(\n        val ? val : null,\n        this.options.colorSelectors,\n        this.options.fallbackColor ? this.options.fallbackColor : this.color,\n        this.options.fallbackFormat,\n        this.options.hexNumberSignPrefix\n      );\n    },\n    getValue: function(defaultValue) {\n      defaultValue = (typeof defaultValue === 'undefined') ? this.options.fallbackColor : defaultValue;\n      var val;\n      if (this.hasInput()) {\n        val = this.input.val();\n      } else {\n        val = this.element.data('color');\n      }\n      if ((val === undefined) || (val === '') || (val === null)) {\n        // if not defined or empty, return default\n        val = defaultValue;\n      }\n      return val;\n    },\n    hasInput: function() {\n      return (this.input !== false);\n    },\n    isDisabled: function() {\n      return this.disabled;\n    },\n    disable: function() {\n      if (this.hasInput()) {\n        this.input.prop('disabled', true);\n      }\n      this.disabled = true;\n      this.element.trigger({\n        type: 'disable',\n        color: this.color,\n        value: this.getValue()\n      });\n      return true;\n    },\n    enable: function() {\n      if (this.hasInput()) {\n        this.input.prop('disabled', false);\n      }\n      this.disabled = false;\n      this.element.trigger({\n        type: 'enable',\n        color: this.color,\n        value: this.getValue()\n      });\n      return true;\n    },\n    currentSlider: null,\n    mousePointer: {\n      left: 0,\n      top: 0\n    },\n    mousedown: function(e) {\n      if (!e.pageX && !e.pageY && e.originalEvent && e.originalEvent.touches) {\n        e.pageX = e.originalEvent.touches[0].pageX;\n        e.pageY = e.originalEvent.touches[0].pageY;\n      }\n      e.stopPropagation();\n      e.preventDefault();\n\n      var target = $(e.target);\n\n      //detect the slider and set the limits and callbacks\n      var zone = target.closest('div');\n      var sl = this.options.horizontal ? this.options.slidersHorz : this.options.sliders;\n      if (!zone.is('.colorpicker')) {\n        if (zone.is('.colorpicker-saturation')) {\n          this.currentSlider = $.extend({}, sl.saturation);\n        } else if (zone.is('.colorpicker-hue')) {\n          this.currentSlider = $.extend({}, sl.hue);\n        } else if (zone.is('.colorpicker-alpha')) {\n          this.currentSlider = $.extend({}, sl.alpha);\n        } else {\n          return false;\n        }\n        var offset = zone.offset();\n        //reference to guide's style\n        this.currentSlider.guide = zone.find('i')[0].style;\n        this.currentSlider.left = e.pageX - offset.left;\n        this.currentSlider.top = e.pageY - offset.top;\n        this.mousePointer = {\n          left: e.pageX,\n          top: e.pageY\n        };\n        //trigger mousemove to move the guide to the current position\n        $(window.document).on({\n          'mousemove.colorpicker': $.proxy(this.mousemove, this),\n          'touchmove.colorpicker': $.proxy(this.mousemove, this),\n          'mouseup.colorpicker': $.proxy(this.mouseup, this),\n          'touchend.colorpicker': $.proxy(this.mouseup, this)\n        }).trigger('mousemove');\n      }\n      return false;\n    },\n    mousemove: function(e) {\n      if (!e.pageX && !e.pageY && e.originalEvent && e.originalEvent.touches) {\n        e.pageX = e.originalEvent.touches[0].pageX;\n        e.pageY = e.originalEvent.touches[0].pageY;\n      }\n      e.stopPropagation();\n      e.preventDefault();\n      var left = Math.max(\n        0,\n        Math.min(\n          this.currentSlider.maxLeft,\n          this.currentSlider.left + ((e.pageX || this.mousePointer.left) - this.mousePointer.left)\n        )\n      );\n      var top = Math.max(\n        0,\n        Math.min(\n          this.currentSlider.maxTop,\n          this.currentSlider.top + ((e.pageY || this.mousePointer.top) - this.mousePointer.top)\n        )\n      );\n      this.currentSlider.guide.left = left + 'px';\n      this.currentSlider.guide.top = top + 'px';\n      if (this.currentSlider.callLeft) {\n        this.color[this.currentSlider.callLeft].call(this.color, left / this.currentSlider.maxLeft);\n      }\n      if (this.currentSlider.callTop) {\n        this.color[this.currentSlider.callTop].call(this.color, top / this.currentSlider.maxTop);\n      }\n      // Change format dynamically\n      // Only occurs if user choose the dynamic format by\n      // setting option format to false\n      if (\n        this.options.format === false &&\n        (this.currentSlider.callTop === 'setAlpha' ||\n          this.currentSlider.callLeft === 'setAlpha')\n      ) {\n\n        // Converting from hex / rgb to rgba\n        if (this.color.value.a !== 1) {\n          this.format = 'rgba';\n          this.color.origFormat = 'rgba';\n        }\n\n        // Converting from rgba to hex\n        else {\n          this.format = 'hex';\n          this.color.origFormat = 'hex';\n        }\n      }\n      this.update(true);\n\n      this.element.trigger({\n        type: 'changeColor',\n        color: this.color\n      });\n      return false;\n    },\n    mouseup: function(e) {\n      e.stopPropagation();\n      e.preventDefault();\n      $(window.document).off({\n        'mousemove.colorpicker': this.mousemove,\n        'touchmove.colorpicker': this.mousemove,\n        'mouseup.colorpicker': this.mouseup,\n        'touchend.colorpicker': this.mouseup\n      });\n      return false;\n    },\n    change: function(e) {\n      this.keyup(e);\n    },\n    keyup: function(e) {\n      if ((e.keyCode === 38)) {\n        if (this.color.value.a < 1) {\n          this.color.value.a = Math.round((this.color.value.a + 0.01) * 100) / 100;\n        }\n        this.update(true);\n      } else if ((e.keyCode === 40)) {\n        if (this.color.value.a > 0) {\n          this.color.value.a = Math.round((this.color.value.a - 0.01) * 100) / 100;\n        }\n        this.update(true);\n      } else {\n        this.color = this.createColor(this.input.val());\n        // Change format dynamically\n        // Only occurs if user choose the dynamic format by\n        // setting option format to false\n        if (this.color.origFormat && this.options.format === false) {\n          this.format = this.color.origFormat;\n        }\n        if (this.getValue(false) !== false) {\n          this.updateData();\n          this.updateComponent();\n          this.updatePicker();\n        }\n      }\n      this.element.trigger({\n        type: 'changeColor',\n        color: this.color,\n        value: this.input.val()\n      });\n    }\n  };\n\n  $.colorpicker = Colorpicker;\n\n  $.fn.colorpicker = function(option) {\n    var apiArgs = Array.prototype.slice.call(arguments, 1),\n      isSingleElement = (this.length === 1),\n      returnValue = null;\n\n    var $jq = this.each(function() {\n      var $this = $(this),\n        inst = $this.data('colorpicker'),\n        options = ((typeof option === 'object') ? option : {});\n\n      if (!inst) {\n        inst = new Colorpicker(this, options);\n        $this.data('colorpicker', inst);\n      }\n\n      if (typeof option === 'string') {\n        if ($.isFunction(inst[option])) {\n          returnValue = inst[option].apply(inst, apiArgs);\n        } else { // its a property ?\n          if (apiArgs.length) {\n            // set property\n            inst[option] = apiArgs[0];\n          }\n          returnValue = inst[option];\n        }\n      } else {\n        returnValue = $this;\n      }\n    });\n    return isSingleElement ? returnValue : $jq;\n  };\n\n  $.fn.colorpicker.constructor = Colorpicker;\n\n}));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvYm9vdHN0cmFwLWNvbG9ycGlja2VyL2Rpc3QvanMvYm9vdHN0cmFwLWNvbG9ycGlja2VyLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2Jvb3RzdHJhcC1jb2xvcnBpY2tlci9kaXN0L2pzL2Jvb3RzdHJhcC1jb2xvcnBpY2tlci5qcz83N2IyIl0sInNvdXJjZXNDb250ZW50IjpbIi8qIVxuICogQm9vdHN0cmFwIENvbG9ycGlja2VyIHYyLjUuMlxuICogaHR0cHM6Ly9pdHNqYXZpLmNvbS9ib290c3RyYXAtY29sb3JwaWNrZXIvXG4gKlxuICogT3JpZ2luYWxseSB3cml0dGVuIGJ5IChjKSAyMDEyIFN0ZWZhbiBQZXRyZVxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlIHYyLjBcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMC50eHRcbiAqXG4gKi9cblxuKGZ1bmN0aW9uKHJvb3QsIGZhY3RvcnkpIHtcbiAgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xuICAgIC8vIEFNRC4gUmVnaXN0ZXIgYXMgYW4gYW5vbnltb3VzIG1vZHVsZSB1bmxlc3MgYW1kTW9kdWxlSWQgaXMgc2V0XG4gICAgZGVmaW5lKFtcImpxdWVyeVwiXSwgZnVuY3Rpb24oanEpIHtcbiAgICAgIHJldHVybiAoZmFjdG9yeShqcSkpO1xuICAgIH0pO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0Jykge1xuICAgIC8vIE5vZGUuIERvZXMgbm90IHdvcmsgd2l0aCBzdHJpY3QgQ29tbW9uSlMsIGJ1dFxuICAgIC8vIG9ubHkgQ29tbW9uSlMtbGlrZSBlbnZpcm9ubWVudHMgdGhhdCBzdXBwb3J0IG1vZHVsZS5leHBvcnRzLFxuICAgIC8vIGxpa2UgTm9kZS5cbiAgICBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkocmVxdWlyZShcImpxdWVyeVwiKSk7XG4gIH0gZWxzZSBpZiAoalF1ZXJ5ICYmICFqUXVlcnkuZm4uY29sb3JwaWNrZXIpIHtcbiAgICBmYWN0b3J5KGpRdWVyeSk7XG4gIH1cbn0odGhpcywgZnVuY3Rpb24oJCkge1xuICAndXNlIHN0cmljdCc7XG4gIC8qKlxuICAgKiBDb2xvciBtYW5pcHVsYXRpb24gaGVscGVyIGNsYXNzXG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0fFN0cmluZ30gW3ZhbF1cbiAgICogQHBhcmFtIHtPYmplY3R9IFtwcmVkZWZpbmVkQ29sb3JzXVxuICAgKiBAcGFyYW0ge1N0cmluZ3xudWxsfSBbZmFsbGJhY2tDb2xvcl1cbiAgICogQHBhcmFtIHtTdHJpbmd8bnVsbH0gW2ZhbGxiYWNrRm9ybWF0XVxuICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtoZXhOdW1iZXJTaWduUHJlZml4XVxuICAgKiBAY29uc3RydWN0b3JcbiAgICovXG4gIHZhciBDb2xvciA9IGZ1bmN0aW9uKFxuICAgIHZhbCwgcHJlZGVmaW5lZENvbG9ycywgZmFsbGJhY2tDb2xvciwgZmFsbGJhY2tGb3JtYXQsIGhleE51bWJlclNpZ25QcmVmaXgpIHtcbiAgICB0aGlzLmZhbGxiYWNrVmFsdWUgPSBmYWxsYmFja0NvbG9yID9cbiAgICAgIChcbiAgICAgICAgZmFsbGJhY2tDb2xvciAmJiAodHlwZW9mIGZhbGxiYWNrQ29sb3IuaCAhPT0gJ3VuZGVmaW5lZCcpID9cbiAgICAgICAgZmFsbGJhY2tDb2xvciA6XG4gICAgICAgIHRoaXMudmFsdWUgPSB7XG4gICAgICAgICAgaDogMCxcbiAgICAgICAgICBzOiAwLFxuICAgICAgICAgIGI6IDAsXG4gICAgICAgICAgYTogMVxuICAgICAgICB9XG4gICAgICApIDpcbiAgICAgIG51bGw7XG5cbiAgICB0aGlzLmZhbGxiYWNrRm9ybWF0ID0gZmFsbGJhY2tGb3JtYXQgPyBmYWxsYmFja0Zvcm1hdCA6ICdyZ2JhJztcblxuICAgIHRoaXMuaGV4TnVtYmVyU2lnblByZWZpeCA9IGhleE51bWJlclNpZ25QcmVmaXggPT09IHRydWU7XG5cbiAgICB0aGlzLnZhbHVlID0gdGhpcy5mYWxsYmFja1ZhbHVlO1xuXG4gICAgdGhpcy5vcmlnRm9ybWF0ID0gbnVsbDsgLy8gb3JpZ2luYWwgc3RyaW5nIGZvcm1hdFxuXG4gICAgdGhpcy5wcmVkZWZpbmVkQ29sb3JzID0gcHJlZGVmaW5lZENvbG9ycyA/IHByZWRlZmluZWRDb2xvcnMgOiB7fTtcblxuICAgIC8vIFdlIGRvbid0IHdhbnQgdG8gc2hhcmUgYWxpYXNlcyBhY3Jvc3MgaW5zdGFuY2VzIHNvIHdlIGV4dGVuZCBuZXcgb2JqZWN0XG4gICAgdGhpcy5jb2xvcnMgPSAkLmV4dGVuZCh7fSwgQ29sb3Iud2ViQ29sb3JzLCB0aGlzLnByZWRlZmluZWRDb2xvcnMpO1xuXG4gICAgaWYgKHZhbCkge1xuICAgICAgaWYgKHR5cGVvZiB2YWwuaCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgdGhpcy52YWx1ZSA9IHZhbDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuc2V0Q29sb3IoU3RyaW5nKHZhbCkpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICghdGhpcy52YWx1ZSkge1xuICAgICAgLy8gSW5pdGlhbCB2YWx1ZSBpcyBhbHdheXMgYmxhY2sgaWYgbm8gYXJndW1lbnRzIGFyZSBwYXNzZWQgb3IgdmFsIGlzIGVtcHR5XG4gICAgICB0aGlzLnZhbHVlID0ge1xuICAgICAgICBoOiAwLFxuICAgICAgICBzOiAwLFxuICAgICAgICBiOiAwLFxuICAgICAgICBhOiAxXG4gICAgICB9O1xuICAgIH1cbiAgfTtcblxuICBDb2xvci53ZWJDb2xvcnMgPSB7IC8vIDE0MCBwcmVkZWZpbmVkIGNvbG9ycyBmcm9tIHRoZSBIVE1MIENvbG9ycyBzcGVjXG4gICAgXCJhbGljZWJsdWVcIjogXCJmMGY4ZmZcIixcbiAgICBcImFudGlxdWV3aGl0ZVwiOiBcImZhZWJkN1wiLFxuICAgIFwiYXF1YVwiOiBcIjAwZmZmZlwiLFxuICAgIFwiYXF1YW1hcmluZVwiOiBcIjdmZmZkNFwiLFxuICAgIFwiYXp1cmVcIjogXCJmMGZmZmZcIixcbiAgICBcImJlaWdlXCI6IFwiZjVmNWRjXCIsXG4gICAgXCJiaXNxdWVcIjogXCJmZmU0YzRcIixcbiAgICBcImJsYWNrXCI6IFwiMDAwMDAwXCIsXG4gICAgXCJibGFuY2hlZGFsbW9uZFwiOiBcImZmZWJjZFwiLFxuICAgIFwiYmx1ZVwiOiBcIjAwMDBmZlwiLFxuICAgIFwiYmx1ZXZpb2xldFwiOiBcIjhhMmJlMlwiLFxuICAgIFwiYnJvd25cIjogXCJhNTJhMmFcIixcbiAgICBcImJ1cmx5d29vZFwiOiBcImRlYjg4N1wiLFxuICAgIFwiY2FkZXRibHVlXCI6IFwiNWY5ZWEwXCIsXG4gICAgXCJjaGFydHJldXNlXCI6IFwiN2ZmZjAwXCIsXG4gICAgXCJjaG9jb2xhdGVcIjogXCJkMjY5MWVcIixcbiAgICBcImNvcmFsXCI6IFwiZmY3ZjUwXCIsXG4gICAgXCJjb3JuZmxvd2VyYmx1ZVwiOiBcIjY0OTVlZFwiLFxuICAgIFwiY29ybnNpbGtcIjogXCJmZmY4ZGNcIixcbiAgICBcImNyaW1zb25cIjogXCJkYzE0M2NcIixcbiAgICBcImN5YW5cIjogXCIwMGZmZmZcIixcbiAgICBcImRhcmtibHVlXCI6IFwiMDAwMDhiXCIsXG4gICAgXCJkYXJrY3lhblwiOiBcIjAwOGI4YlwiLFxuICAgIFwiZGFya2dvbGRlbnJvZFwiOiBcImI4ODYwYlwiLFxuICAgIFwiZGFya2dyYXlcIjogXCJhOWE5YTlcIixcbiAgICBcImRhcmtncmVlblwiOiBcIjAwNjQwMFwiLFxuICAgIFwiZGFya2toYWtpXCI6IFwiYmRiNzZiXCIsXG4gICAgXCJkYXJrbWFnZW50YVwiOiBcIjhiMDA4YlwiLFxuICAgIFwiZGFya29saXZlZ3JlZW5cIjogXCI1NTZiMmZcIixcbiAgICBcImRhcmtvcmFuZ2VcIjogXCJmZjhjMDBcIixcbiAgICBcImRhcmtvcmNoaWRcIjogXCI5OTMyY2NcIixcbiAgICBcImRhcmtyZWRcIjogXCI4YjAwMDBcIixcbiAgICBcImRhcmtzYWxtb25cIjogXCJlOTk2N2FcIixcbiAgICBcImRhcmtzZWFncmVlblwiOiBcIjhmYmM4ZlwiLFxuICAgIFwiZGFya3NsYXRlYmx1ZVwiOiBcIjQ4M2Q4YlwiLFxuICAgIFwiZGFya3NsYXRlZ3JheVwiOiBcIjJmNGY0ZlwiLFxuICAgIFwiZGFya3R1cnF1b2lzZVwiOiBcIjAwY2VkMVwiLFxuICAgIFwiZGFya3Zpb2xldFwiOiBcIjk0MDBkM1wiLFxuICAgIFwiZGVlcHBpbmtcIjogXCJmZjE0OTNcIixcbiAgICBcImRlZXBza3libHVlXCI6IFwiMDBiZmZmXCIsXG4gICAgXCJkaW1ncmF5XCI6IFwiNjk2OTY5XCIsXG4gICAgXCJkb2RnZXJibHVlXCI6IFwiMWU5MGZmXCIsXG4gICAgXCJmaXJlYnJpY2tcIjogXCJiMjIyMjJcIixcbiAgICBcImZsb3JhbHdoaXRlXCI6IFwiZmZmYWYwXCIsXG4gICAgXCJmb3Jlc3RncmVlblwiOiBcIjIyOGIyMlwiLFxuICAgIFwiZnVjaHNpYVwiOiBcImZmMDBmZlwiLFxuICAgIFwiZ2FpbnNib3JvXCI6IFwiZGNkY2RjXCIsXG4gICAgXCJnaG9zdHdoaXRlXCI6IFwiZjhmOGZmXCIsXG4gICAgXCJnb2xkXCI6IFwiZmZkNzAwXCIsXG4gICAgXCJnb2xkZW5yb2RcIjogXCJkYWE1MjBcIixcbiAgICBcImdyYXlcIjogXCI4MDgwODBcIixcbiAgICBcImdyZWVuXCI6IFwiMDA4MDAwXCIsXG4gICAgXCJncmVlbnllbGxvd1wiOiBcImFkZmYyZlwiLFxuICAgIFwiaG9uZXlkZXdcIjogXCJmMGZmZjBcIixcbiAgICBcImhvdHBpbmtcIjogXCJmZjY5YjRcIixcbiAgICBcImluZGlhbnJlZFwiOiBcImNkNWM1Y1wiLFxuICAgIFwiaW5kaWdvXCI6IFwiNGIwMDgyXCIsXG4gICAgXCJpdm9yeVwiOiBcImZmZmZmMFwiLFxuICAgIFwia2hha2lcIjogXCJmMGU2OGNcIixcbiAgICBcImxhdmVuZGVyXCI6IFwiZTZlNmZhXCIsXG4gICAgXCJsYXZlbmRlcmJsdXNoXCI6IFwiZmZmMGY1XCIsXG4gICAgXCJsYXduZ3JlZW5cIjogXCI3Y2ZjMDBcIixcbiAgICBcImxlbW9uY2hpZmZvblwiOiBcImZmZmFjZFwiLFxuICAgIFwibGlnaHRibHVlXCI6IFwiYWRkOGU2XCIsXG4gICAgXCJsaWdodGNvcmFsXCI6IFwiZjA4MDgwXCIsXG4gICAgXCJsaWdodGN5YW5cIjogXCJlMGZmZmZcIixcbiAgICBcImxpZ2h0Z29sZGVucm9keWVsbG93XCI6IFwiZmFmYWQyXCIsXG4gICAgXCJsaWdodGdyZXlcIjogXCJkM2QzZDNcIixcbiAgICBcImxpZ2h0Z3JlZW5cIjogXCI5MGVlOTBcIixcbiAgICBcImxpZ2h0cGlua1wiOiBcImZmYjZjMVwiLFxuICAgIFwibGlnaHRzYWxtb25cIjogXCJmZmEwN2FcIixcbiAgICBcImxpZ2h0c2VhZ3JlZW5cIjogXCIyMGIyYWFcIixcbiAgICBcImxpZ2h0c2t5Ymx1ZVwiOiBcIjg3Y2VmYVwiLFxuICAgIFwibGlnaHRzbGF0ZWdyYXlcIjogXCI3Nzg4OTlcIixcbiAgICBcImxpZ2h0c3RlZWxibHVlXCI6IFwiYjBjNGRlXCIsXG4gICAgXCJsaWdodHllbGxvd1wiOiBcImZmZmZlMFwiLFxuICAgIFwibGltZVwiOiBcIjAwZmYwMFwiLFxuICAgIFwibGltZWdyZWVuXCI6IFwiMzJjZDMyXCIsXG4gICAgXCJsaW5lblwiOiBcImZhZjBlNlwiLFxuICAgIFwibWFnZW50YVwiOiBcImZmMDBmZlwiLFxuICAgIFwibWFyb29uXCI6IFwiODAwMDAwXCIsXG4gICAgXCJtZWRpdW1hcXVhbWFyaW5lXCI6IFwiNjZjZGFhXCIsXG4gICAgXCJtZWRpdW1ibHVlXCI6IFwiMDAwMGNkXCIsXG4gICAgXCJtZWRpdW1vcmNoaWRcIjogXCJiYTU1ZDNcIixcbiAgICBcIm1lZGl1bXB1cnBsZVwiOiBcIjkzNzBkOFwiLFxuICAgIFwibWVkaXVtc2VhZ3JlZW5cIjogXCIzY2IzNzFcIixcbiAgICBcIm1lZGl1bXNsYXRlYmx1ZVwiOiBcIjdiNjhlZVwiLFxuICAgIFwibWVkaXVtc3ByaW5nZ3JlZW5cIjogXCIwMGZhOWFcIixcbiAgICBcIm1lZGl1bXR1cnF1b2lzZVwiOiBcIjQ4ZDFjY1wiLFxuICAgIFwibWVkaXVtdmlvbGV0cmVkXCI6IFwiYzcxNTg1XCIsXG4gICAgXCJtaWRuaWdodGJsdWVcIjogXCIxOTE5NzBcIixcbiAgICBcIm1pbnRjcmVhbVwiOiBcImY1ZmZmYVwiLFxuICAgIFwibWlzdHlyb3NlXCI6IFwiZmZlNGUxXCIsXG4gICAgXCJtb2NjYXNpblwiOiBcImZmZTRiNVwiLFxuICAgIFwibmF2YWpvd2hpdGVcIjogXCJmZmRlYWRcIixcbiAgICBcIm5hdnlcIjogXCIwMDAwODBcIixcbiAgICBcIm9sZGxhY2VcIjogXCJmZGY1ZTZcIixcbiAgICBcIm9saXZlXCI6IFwiODA4MDAwXCIsXG4gICAgXCJvbGl2ZWRyYWJcIjogXCI2YjhlMjNcIixcbiAgICBcIm9yYW5nZVwiOiBcImZmYTUwMFwiLFxuICAgIFwib3JhbmdlcmVkXCI6IFwiZmY0NTAwXCIsXG4gICAgXCJvcmNoaWRcIjogXCJkYTcwZDZcIixcbiAgICBcInBhbGVnb2xkZW5yb2RcIjogXCJlZWU4YWFcIixcbiAgICBcInBhbGVncmVlblwiOiBcIjk4ZmI5OFwiLFxuICAgIFwicGFsZXR1cnF1b2lzZVwiOiBcImFmZWVlZVwiLFxuICAgIFwicGFsZXZpb2xldHJlZFwiOiBcImQ4NzA5M1wiLFxuICAgIFwicGFwYXlhd2hpcFwiOiBcImZmZWZkNVwiLFxuICAgIFwicGVhY2hwdWZmXCI6IFwiZmZkYWI5XCIsXG4gICAgXCJwZXJ1XCI6IFwiY2Q4NTNmXCIsXG4gICAgXCJwaW5rXCI6IFwiZmZjMGNiXCIsXG4gICAgXCJwbHVtXCI6IFwiZGRhMGRkXCIsXG4gICAgXCJwb3dkZXJibHVlXCI6IFwiYjBlMGU2XCIsXG4gICAgXCJwdXJwbGVcIjogXCI4MDAwODBcIixcbiAgICBcInJlZFwiOiBcImZmMDAwMFwiLFxuICAgIFwicm9zeWJyb3duXCI6IFwiYmM4ZjhmXCIsXG4gICAgXCJyb3lhbGJsdWVcIjogXCI0MTY5ZTFcIixcbiAgICBcInNhZGRsZWJyb3duXCI6IFwiOGI0NTEzXCIsXG4gICAgXCJzYWxtb25cIjogXCJmYTgwNzJcIixcbiAgICBcInNhbmR5YnJvd25cIjogXCJmNGE0NjBcIixcbiAgICBcInNlYWdyZWVuXCI6IFwiMmU4YjU3XCIsXG4gICAgXCJzZWFzaGVsbFwiOiBcImZmZjVlZVwiLFxuICAgIFwic2llbm5hXCI6IFwiYTA1MjJkXCIsXG4gICAgXCJzaWx2ZXJcIjogXCJjMGMwYzBcIixcbiAgICBcInNreWJsdWVcIjogXCI4N2NlZWJcIixcbiAgICBcInNsYXRlYmx1ZVwiOiBcIjZhNWFjZFwiLFxuICAgIFwic2xhdGVncmF5XCI6IFwiNzA4MDkwXCIsXG4gICAgXCJzbm93XCI6IFwiZmZmYWZhXCIsXG4gICAgXCJzcHJpbmdncmVlblwiOiBcIjAwZmY3ZlwiLFxuICAgIFwic3RlZWxibHVlXCI6IFwiNDY4MmI0XCIsXG4gICAgXCJ0YW5cIjogXCJkMmI0OGNcIixcbiAgICBcInRlYWxcIjogXCIwMDgwODBcIixcbiAgICBcInRoaXN0bGVcIjogXCJkOGJmZDhcIixcbiAgICBcInRvbWF0b1wiOiBcImZmNjM0N1wiLFxuICAgIFwidHVycXVvaXNlXCI6IFwiNDBlMGQwXCIsXG4gICAgXCJ2aW9sZXRcIjogXCJlZTgyZWVcIixcbiAgICBcIndoZWF0XCI6IFwiZjVkZWIzXCIsXG4gICAgXCJ3aGl0ZVwiOiBcImZmZmZmZlwiLFxuICAgIFwid2hpdGVzbW9rZVwiOiBcImY1ZjVmNVwiLFxuICAgIFwieWVsbG93XCI6IFwiZmZmZjAwXCIsXG4gICAgXCJ5ZWxsb3dncmVlblwiOiBcIjlhY2QzMlwiLFxuICAgIFwidHJhbnNwYXJlbnRcIjogXCJ0cmFuc3BhcmVudFwiXG4gIH07XG5cbiAgQ29sb3IucHJvdG90eXBlID0ge1xuICAgIGNvbnN0cnVjdG9yOiBDb2xvcixcbiAgICBjb2xvcnM6IHt9LCAvLyBtZXJnZWQgd2ViIGFuZCBwcmVkZWZpbmVkIGNvbG9yc1xuICAgIHByZWRlZmluZWRDb2xvcnM6IHt9LFxuICAgIC8qKlxuICAgICAqIEByZXR1cm4ge09iamVjdH1cbiAgICAgKi9cbiAgICBnZXRWYWx1ZTogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy52YWx1ZTtcbiAgICB9LFxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSB2YWxcbiAgICAgKi9cbiAgICBzZXRWYWx1ZTogZnVuY3Rpb24odmFsKSB7XG4gICAgICB0aGlzLnZhbHVlID0gdmFsO1xuICAgIH0sXG4gICAgX3Nhbml0aXplTnVtYmVyOiBmdW5jdGlvbih2YWwpIHtcbiAgICAgIGlmICh0eXBlb2YgdmFsID09PSAnbnVtYmVyJykge1xuICAgICAgICByZXR1cm4gdmFsO1xuICAgICAgfVxuICAgICAgaWYgKGlzTmFOKHZhbCkgfHwgKHZhbCA9PT0gbnVsbCkgfHwgKHZhbCA9PT0gJycpIHx8ICh2YWwgPT09IHVuZGVmaW5lZCkpIHtcbiAgICAgICAgcmV0dXJuIDE7XG4gICAgICB9XG4gICAgICBpZiAodmFsID09PSAnJykge1xuICAgICAgICByZXR1cm4gMDtcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2YgdmFsLnRvTG93ZXJDYXNlICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBpZiAodmFsLm1hdGNoKC9eXFwuLykpIHtcbiAgICAgICAgICB2YWwgPSBcIjBcIiArIHZhbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gTWF0aC5jZWlsKHBhcnNlRmxvYXQodmFsKSAqIDEwMCkgLyAxMDA7XG4gICAgICB9XG4gICAgICByZXR1cm4gMTtcbiAgICB9LFxuICAgIGlzVHJhbnNwYXJlbnQ6IGZ1bmN0aW9uKHN0clZhbCkge1xuICAgICAgaWYgKCFzdHJWYWwgfHwgISh0eXBlb2Ygc3RyVmFsID09PSAnc3RyaW5nJyB8fCBzdHJWYWwgaW5zdGFuY2VvZiBTdHJpbmcpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHN0clZhbCA9IHN0clZhbC50b0xvd2VyQ2FzZSgpLnRyaW0oKTtcbiAgICAgIHJldHVybiAoc3RyVmFsID09PSAndHJhbnNwYXJlbnQnKSB8fCAoc3RyVmFsLm1hdGNoKC8jPzAwMDAwMDAwLykpIHx8IChzdHJWYWwubWF0Y2goLyhyZ2JhfGhzbGEpXFwoMCwwLDAsMD9cXC4/MFxcKS8pKTtcbiAgICB9LFxuICAgIHJnYmFJc1RyYW5zcGFyZW50OiBmdW5jdGlvbihyZ2JhKSB7XG4gICAgICByZXR1cm4gKChyZ2JhLnIgPT09IDApICYmIChyZ2JhLmcgPT09IDApICYmIChyZ2JhLmIgPT09IDApICYmIChyZ2JhLmEgPT09IDApKTtcbiAgICB9LFxuICAgIC8vIHBhcnNlIGEgc3RyaW5nIHRvIEhTQlxuICAgIC8qKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gc3RyVmFsXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgdHJ1ZSBpZiBpdCBjb3VsZCBiZSBwYXJzZWQsIGZhbHNlIG90aGVyd2lzZVxuICAgICAqL1xuICAgIHNldENvbG9yOiBmdW5jdGlvbihzdHJWYWwpIHtcbiAgICAgIHN0clZhbCA9IHN0clZhbC50b0xvd2VyQ2FzZSgpLnRyaW0oKTtcbiAgICAgIGlmIChzdHJWYWwpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNUcmFuc3BhcmVudChzdHJWYWwpKSB7XG4gICAgICAgICAgdGhpcy52YWx1ZSA9IHtcbiAgICAgICAgICAgIGg6IDAsXG4gICAgICAgICAgICBzOiAwLFxuICAgICAgICAgICAgYjogMCxcbiAgICAgICAgICAgIGE6IDBcbiAgICAgICAgICB9O1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhciBwYXJzZWRDb2xvciA9IHRoaXMucGFyc2Uoc3RyVmFsKTtcbiAgICAgICAgICBpZiAocGFyc2VkQ29sb3IpIHtcbiAgICAgICAgICAgIHRoaXMudmFsdWUgPSB0aGlzLnZhbHVlID0ge1xuICAgICAgICAgICAgICBoOiBwYXJzZWRDb2xvci5oLFxuICAgICAgICAgICAgICBzOiBwYXJzZWRDb2xvci5zLFxuICAgICAgICAgICAgICBiOiBwYXJzZWRDb2xvci5iLFxuICAgICAgICAgICAgICBhOiBwYXJzZWRDb2xvci5hXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaWYgKCF0aGlzLm9yaWdGb3JtYXQpIHtcbiAgICAgICAgICAgICAgdGhpcy5vcmlnRm9ybWF0ID0gcGFyc2VkQ29sb3IuZm9ybWF0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5mYWxsYmFja1ZhbHVlKSB7XG4gICAgICAgICAgICAvLyBpZiBwYXJzZXIgZmFpbHMsIGRlZmF1bHRzIHRvIGZhbGxiYWNrVmFsdWUgaWYgZGVmaW5lZCwgb3RoZXJ3aXNlIHRoZSB2YWx1ZSB3b24ndCBiZSBjaGFuZ2VkXG4gICAgICAgICAgICB0aGlzLnZhbHVlID0gdGhpcy5mYWxsYmFja1ZhbHVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0sXG4gICAgc2V0SHVlOiBmdW5jdGlvbihoKSB7XG4gICAgICB0aGlzLnZhbHVlLmggPSAxIC0gaDtcbiAgICB9LFxuICAgIHNldFNhdHVyYXRpb246IGZ1bmN0aW9uKHMpIHtcbiAgICAgIHRoaXMudmFsdWUucyA9IHM7XG4gICAgfSxcbiAgICBzZXRCcmlnaHRuZXNzOiBmdW5jdGlvbihiKSB7XG4gICAgICB0aGlzLnZhbHVlLmIgPSAxIC0gYjtcbiAgICB9LFxuICAgIHNldEFscGhhOiBmdW5jdGlvbihhKSB7XG4gICAgICB0aGlzLnZhbHVlLmEgPSBNYXRoLnJvdW5kKChwYXJzZUludCgoMSAtIGEpICogMTAwLCAxMCkgLyAxMDApICogMTAwKSAvIDEwMDtcbiAgICB9LFxuICAgIHRvUkdCOiBmdW5jdGlvbihoLCBzLCBiLCBhKSB7XG4gICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBoID0gdGhpcy52YWx1ZS5oO1xuICAgICAgICBzID0gdGhpcy52YWx1ZS5zO1xuICAgICAgICBiID0gdGhpcy52YWx1ZS5iO1xuICAgICAgICBhID0gdGhpcy52YWx1ZS5hO1xuICAgICAgfVxuXG4gICAgICBoICo9IDM2MDtcbiAgICAgIHZhciBSLCBHLCBCLCBYLCBDO1xuICAgICAgaCA9IChoICUgMzYwKSAvIDYwO1xuICAgICAgQyA9IGIgKiBzO1xuICAgICAgWCA9IEMgKiAoMSAtIE1hdGguYWJzKGggJSAyIC0gMSkpO1xuICAgICAgUiA9IEcgPSBCID0gYiAtIEM7XG5cbiAgICAgIGggPSB+fmg7XG4gICAgICBSICs9IFtDLCBYLCAwLCAwLCBYLCBDXVtoXTtcbiAgICAgIEcgKz0gW1gsIEMsIEMsIFgsIDAsIDBdW2hdO1xuICAgICAgQiArPSBbMCwgMCwgWCwgQywgQywgWF1baF07XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIHI6IE1hdGgucm91bmQoUiAqIDI1NSksXG4gICAgICAgIGc6IE1hdGgucm91bmQoRyAqIDI1NSksXG4gICAgICAgIGI6IE1hdGgucm91bmQoQiAqIDI1NSksXG4gICAgICAgIGE6IGFcbiAgICAgIH07XG4gICAgfSxcbiAgICB0b0hleDogZnVuY3Rpb24oaWdub3JlRm9ybWF0LCBoLCBzLCBiLCBhKSB7XG4gICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA8PSAxKSB7XG4gICAgICAgIGggPSB0aGlzLnZhbHVlLmg7XG4gICAgICAgIHMgPSB0aGlzLnZhbHVlLnM7XG4gICAgICAgIGIgPSB0aGlzLnZhbHVlLmI7XG4gICAgICAgIGEgPSB0aGlzLnZhbHVlLmE7XG4gICAgICB9XG5cbiAgICAgIHZhciBwcmVmaXggPSAnIyc7XG4gICAgICB2YXIgcmdiID0gdGhpcy50b1JHQihoLCBzLCBiLCBhKTtcblxuICAgICAgaWYgKHRoaXMucmdiYUlzVHJhbnNwYXJlbnQocmdiKSkge1xuICAgICAgICByZXR1cm4gJ3RyYW5zcGFyZW50JztcbiAgICAgIH1cblxuICAgICAgaWYgKCFpZ25vcmVGb3JtYXQpIHtcbiAgICAgICAgcHJlZml4ID0gKHRoaXMuaGV4TnVtYmVyU2lnblByZWZpeCA/ICcjJyA6ICcnKTtcbiAgICAgIH1cblxuICAgICAgdmFyIGhleFN0ciA9IHByZWZpeCArIChcbiAgICAgICAgICAoMSA8PCAyNCkgK1xuICAgICAgICAgIChwYXJzZUludChyZ2IucikgPDwgMTYpICtcbiAgICAgICAgICAocGFyc2VJbnQocmdiLmcpIDw8IDgpICtcbiAgICAgICAgICBwYXJzZUludChyZ2IuYikpXG4gICAgICAgIC50b1N0cmluZygxNilcbiAgICAgICAgLnNsaWNlKDEpO1xuXG4gICAgICByZXR1cm4gaGV4U3RyO1xuICAgIH0sXG4gICAgdG9IU0w6IGZ1bmN0aW9uKGgsIHMsIGIsIGEpIHtcbiAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIGggPSB0aGlzLnZhbHVlLmg7XG4gICAgICAgIHMgPSB0aGlzLnZhbHVlLnM7XG4gICAgICAgIGIgPSB0aGlzLnZhbHVlLmI7XG4gICAgICAgIGEgPSB0aGlzLnZhbHVlLmE7XG4gICAgICB9XG5cbiAgICAgIHZhciBIID0gaCxcbiAgICAgICAgTCA9ICgyIC0gcykgKiBiLFxuICAgICAgICBTID0gcyAqIGI7XG4gICAgICBpZiAoTCA+IDAgJiYgTCA8PSAxKSB7XG4gICAgICAgIFMgLz0gTDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIFMgLz0gMiAtIEw7XG4gICAgICB9XG4gICAgICBMIC89IDI7XG4gICAgICBpZiAoUyA+IDEpIHtcbiAgICAgICAgUyA9IDE7XG4gICAgICB9XG4gICAgICByZXR1cm4ge1xuICAgICAgICBoOiBpc05hTihIKSA/IDAgOiBILFxuICAgICAgICBzOiBpc05hTihTKSA/IDAgOiBTLFxuICAgICAgICBsOiBpc05hTihMKSA/IDAgOiBMLFxuICAgICAgICBhOiBpc05hTihhKSA/IDAgOiBhXG4gICAgICB9O1xuICAgIH0sXG4gICAgdG9BbGlhczogZnVuY3Rpb24ociwgZywgYiwgYSkge1xuICAgICAgdmFyIGMsIHJnYiA9IChhcmd1bWVudHMubGVuZ3RoID09PSAwKSA/IHRoaXMudG9IZXgodHJ1ZSkgOiB0aGlzLnRvSGV4KHRydWUsIHIsIGcsIGIsIGEpO1xuXG4gICAgICAvLyBzdXBwb3J0IHByZWRlZi4gY29sb3JzIGluIG5vbi1oZXggZm9ybWF0IHRvbywgYXMgZGVmaW5lZCBpbiB0aGUgYWxpYXMgaXRzZWxmXG4gICAgICB2YXIgb3JpZ2luYWwgPSB0aGlzLm9yaWdGb3JtYXQgPT09ICdhbGlhcycgPyByZ2IgOiB0aGlzLnRvU3RyaW5nKGZhbHNlLCB0aGlzLm9yaWdGb3JtYXQpO1xuXG4gICAgICBmb3IgKHZhciBhbGlhcyBpbiB0aGlzLmNvbG9ycykge1xuICAgICAgICBjID0gdGhpcy5jb2xvcnNbYWxpYXNdLnRvTG93ZXJDYXNlKCkudHJpbSgpO1xuICAgICAgICBpZiAoKGMgPT09IHJnYikgfHwgKGMgPT09IG9yaWdpbmFsKSkge1xuICAgICAgICAgIHJldHVybiBhbGlhcztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0sXG4gICAgUkdCdG9IU0I6IGZ1bmN0aW9uKHIsIGcsIGIsIGEpIHtcbiAgICAgIHIgLz0gMjU1O1xuICAgICAgZyAvPSAyNTU7XG4gICAgICBiIC89IDI1NTtcblxuICAgICAgdmFyIEgsIFMsIFYsIEM7XG4gICAgICBWID0gTWF0aC5tYXgociwgZywgYik7XG4gICAgICBDID0gViAtIE1hdGgubWluKHIsIGcsIGIpO1xuICAgICAgSCA9IChDID09PSAwID8gbnVsbCA6XG4gICAgICAgIFYgPT09IHIgPyAoZyAtIGIpIC8gQyA6XG4gICAgICAgIFYgPT09IGcgPyAoYiAtIHIpIC8gQyArIDIgOlxuICAgICAgICAociAtIGcpIC8gQyArIDRcbiAgICAgICk7XG4gICAgICBIID0gKChIICsgMzYwKSAlIDYpICogNjAgLyAzNjA7XG4gICAgICBTID0gQyA9PT0gMCA/IDAgOiBDIC8gVjtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGg6IHRoaXMuX3Nhbml0aXplTnVtYmVyKEgpLFxuICAgICAgICBzOiBTLFxuICAgICAgICBiOiBWLFxuICAgICAgICBhOiB0aGlzLl9zYW5pdGl6ZU51bWJlcihhKVxuICAgICAgfTtcbiAgICB9LFxuICAgIEh1ZVRvUkdCOiBmdW5jdGlvbihwLCBxLCBoKSB7XG4gICAgICBpZiAoaCA8IDApIHtcbiAgICAgICAgaCArPSAxO1xuICAgICAgfSBlbHNlIGlmIChoID4gMSkge1xuICAgICAgICBoIC09IDE7XG4gICAgICB9XG4gICAgICBpZiAoKGggKiA2KSA8IDEpIHtcbiAgICAgICAgcmV0dXJuIHAgKyAocSAtIHApICogaCAqIDY7XG4gICAgICB9IGVsc2UgaWYgKChoICogMikgPCAxKSB7XG4gICAgICAgIHJldHVybiBxO1xuICAgICAgfSBlbHNlIGlmICgoaCAqIDMpIDwgMikge1xuICAgICAgICByZXR1cm4gcCArIChxIC0gcCkgKiAoKDIgLyAzKSAtIGgpICogNjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBwO1xuICAgICAgfVxuICAgIH0sXG4gICAgSFNMdG9SR0I6IGZ1bmN0aW9uKGgsIHMsIGwsIGEpIHtcbiAgICAgIGlmIChzIDwgMCkge1xuICAgICAgICBzID0gMDtcbiAgICAgIH1cbiAgICAgIHZhciBxO1xuICAgICAgaWYgKGwgPD0gMC41KSB7XG4gICAgICAgIHEgPSBsICogKDEgKyBzKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHEgPSBsICsgcyAtIChsICogcyk7XG4gICAgICB9XG5cbiAgICAgIHZhciBwID0gMiAqIGwgLSBxO1xuXG4gICAgICB2YXIgdHIgPSBoICsgKDEgLyAzKTtcbiAgICAgIHZhciB0ZyA9IGg7XG4gICAgICB2YXIgdGIgPSBoIC0gKDEgLyAzKTtcblxuICAgICAgdmFyIHIgPSBNYXRoLnJvdW5kKHRoaXMuSHVlVG9SR0IocCwgcSwgdHIpICogMjU1KTtcbiAgICAgIHZhciBnID0gTWF0aC5yb3VuZCh0aGlzLkh1ZVRvUkdCKHAsIHEsIHRnKSAqIDI1NSk7XG4gICAgICB2YXIgYiA9IE1hdGgucm91bmQodGhpcy5IdWVUb1JHQihwLCBxLCB0YikgKiAyNTUpO1xuICAgICAgcmV0dXJuIFtyLCBnLCBiLCB0aGlzLl9zYW5pdGl6ZU51bWJlcihhKV07XG4gICAgfSxcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gc3RyVmFsXG4gICAgICogQHJldHVybnMge09iamVjdH0gT2JqZWN0IGNvbnRhaW5pbmcgaCxzLGIsYSxmb3JtYXQgcHJvcGVydGllcyBvciBGQUxTRSBpZiBmYWlsZWQgdG8gcGFyc2VcbiAgICAgKi9cbiAgICBwYXJzZTogZnVuY3Rpb24oc3RyVmFsKSB7XG4gICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIHZhciB0aGF0ID0gdGhpcyxcbiAgICAgICAgcmVzdWx0ID0gZmFsc2UsXG4gICAgICAgIGlzQWxpYXMgPSAodHlwZW9mIHRoaXMuY29sb3JzW3N0clZhbF0gIT09ICd1bmRlZmluZWQnKSxcbiAgICAgICAgdmFsdWVzLCBmb3JtYXQ7XG5cbiAgICAgIGlmIChpc0FsaWFzKSB7XG4gICAgICAgIHN0clZhbCA9IHRoaXMuY29sb3JzW3N0clZhbF0udG9Mb3dlckNhc2UoKS50cmltKCk7XG4gICAgICB9XG5cbiAgICAgICQuZWFjaCh0aGlzLnN0cmluZ1BhcnNlcnMsIGZ1bmN0aW9uKGksIHBhcnNlcikge1xuICAgICAgICB2YXIgbWF0Y2ggPSBwYXJzZXIucmUuZXhlYyhzdHJWYWwpO1xuICAgICAgICB2YWx1ZXMgPSBtYXRjaCAmJiBwYXJzZXIucGFyc2UuYXBwbHkodGhhdCwgW21hdGNoXSk7XG4gICAgICAgIGlmICh2YWx1ZXMpIHtcbiAgICAgICAgICByZXN1bHQgPSB7fTtcbiAgICAgICAgICBmb3JtYXQgPSAoaXNBbGlhcyA/ICdhbGlhcycgOiAocGFyc2VyLmZvcm1hdCA/IHBhcnNlci5mb3JtYXQgOiB0aGF0LmdldFZhbGlkRmFsbGJhY2tGb3JtYXQoKSkpO1xuICAgICAgICAgIGlmIChmb3JtYXQubWF0Y2goL2hzbGE/LykpIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IHRoYXQuUkdCdG9IU0IuYXBwbHkodGhhdCwgdGhhdC5IU0x0b1JHQi5hcHBseSh0aGF0LCB2YWx1ZXMpKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVzdWx0ID0gdGhhdC5SR0J0b0hTQi5hcHBseSh0aGF0LCB2YWx1ZXMpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAocmVzdWx0IGluc3RhbmNlb2YgT2JqZWN0KSB7XG4gICAgICAgICAgICByZXN1bHQuZm9ybWF0ID0gZm9ybWF0O1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gZmFsc2U7IC8vIHN0b3AgaXRlcmF0aW5nXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSxcbiAgICBnZXRWYWxpZEZhbGxiYWNrRm9ybWF0OiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBmb3JtYXRzID0gW1xuICAgICAgICAncmdiYScsICdyZ2InLCAnaGV4JywgJ2hzbGEnLCAnaHNsJ1xuICAgICAgXTtcbiAgICAgIGlmICh0aGlzLm9yaWdGb3JtYXQgJiYgKGZvcm1hdHMuaW5kZXhPZih0aGlzLm9yaWdGb3JtYXQpICE9PSAtMSkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub3JpZ0Zvcm1hdDtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLmZhbGxiYWNrRm9ybWF0ICYmIChmb3JtYXRzLmluZGV4T2YodGhpcy5mYWxsYmFja0Zvcm1hdCkgIT09IC0xKSkge1xuICAgICAgICByZXR1cm4gdGhpcy5mYWxsYmFja0Zvcm1hdDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuICdyZ2JhJzsgLy8gQnkgZGVmYXVsdCwgcmV0dXJuIGEgZm9ybWF0IHRoYXQgd2lsbCBub3QgbG9zZSB0aGUgYWxwaGEgaW5mb1xuICAgIH0sXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2Zvcm1hdF0gKGRlZmF1bHQ6IHJnYmEpXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbdHJhbnNsYXRlQWxpYXNdIFJldHVybiByZWFsIGNvbG9yIGZvciBwcmUtZGVmaW5lZCAobm9uLXN0YW5kYXJkKSBhbGlhc2VzIChkZWZhdWx0OiBmYWxzZSlcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtmb3JjZVJhd1ZhbHVlXSBGb3JjZXMgaGFzaHRhZyBwcmVmaXggd2hlbiBnZXR0aW5nIGhleCBjb2xvciAoZGVmYXVsdDogZmFsc2UpXG4gICAgICogQHJldHVybnMge1N0cmluZ31cbiAgICAgKi9cbiAgICB0b1N0cmluZzogZnVuY3Rpb24oZm9yY2VSYXdWYWx1ZSwgZm9ybWF0LCB0cmFuc2xhdGVBbGlhcykge1xuICAgICAgZm9ybWF0ID0gZm9ybWF0IHx8IHRoaXMub3JpZ0Zvcm1hdCB8fCB0aGlzLmZhbGxiYWNrRm9ybWF0O1xuICAgICAgdHJhbnNsYXRlQWxpYXMgPSB0cmFuc2xhdGVBbGlhcyB8fCBmYWxzZTtcblxuICAgICAgdmFyIGMgPSBmYWxzZTtcblxuICAgICAgc3dpdGNoIChmb3JtYXQpIHtcbiAgICAgICAgY2FzZSAncmdiJzpcbiAgICAgICAgICB7XG4gICAgICAgICAgICBjID0gdGhpcy50b1JHQigpO1xuICAgICAgICAgICAgaWYgKHRoaXMucmdiYUlzVHJhbnNwYXJlbnQoYykpIHtcbiAgICAgICAgICAgICAgcmV0dXJuICd0cmFuc3BhcmVudCc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gJ3JnYignICsgYy5yICsgJywnICsgYy5nICsgJywnICsgYy5iICsgJyknO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAncmdiYSc6XG4gICAgICAgICAge1xuICAgICAgICAgICAgYyA9IHRoaXMudG9SR0IoKTtcbiAgICAgICAgICAgIHJldHVybiAncmdiYSgnICsgYy5yICsgJywnICsgYy5nICsgJywnICsgYy5iICsgJywnICsgYy5hICsgJyknO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnaHNsJzpcbiAgICAgICAgICB7XG4gICAgICAgICAgICBjID0gdGhpcy50b0hTTCgpO1xuICAgICAgICAgICAgcmV0dXJuICdoc2woJyArIE1hdGgucm91bmQoYy5oICogMzYwKSArICcsJyArIE1hdGgucm91bmQoYy5zICogMTAwKSArICclLCcgKyBNYXRoLnJvdW5kKGMubCAqIDEwMCkgKyAnJSknO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnaHNsYSc6XG4gICAgICAgICAge1xuICAgICAgICAgICAgYyA9IHRoaXMudG9IU0woKTtcbiAgICAgICAgICAgIHJldHVybiAnaHNsYSgnICsgTWF0aC5yb3VuZChjLmggKiAzNjApICsgJywnICsgTWF0aC5yb3VuZChjLnMgKiAxMDApICsgJyUsJyArIE1hdGgucm91bmQoYy5sICogMTAwKSArICclLCcgKyBjLmEgKyAnKSc7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdoZXgnOlxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRvSGV4KGZvcmNlUmF3VmFsdWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnYWxpYXMnOlxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGMgPSB0aGlzLnRvQWxpYXMoKTtcblxuICAgICAgICAgICAgaWYgKGMgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgIHJldHVybiB0aGlzLnRvU3RyaW5nKGZvcmNlUmF3VmFsdWUsIHRoaXMuZ2V0VmFsaWRGYWxsYmFja0Zvcm1hdCgpKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHRyYW5zbGF0ZUFsaWFzICYmICEoYyBpbiBDb2xvci53ZWJDb2xvcnMpICYmIChjIGluIHRoaXMucHJlZGVmaW5lZENvbG9ycykpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucHJlZGVmaW5lZENvbG9yc1tjXTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGM7XG4gICAgICAgICAgfVxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiBjO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9LFxuICAgIC8vIGEgc2V0IG9mIFJFJ3MgdGhhdCBjYW4gbWF0Y2ggc3RyaW5ncyBhbmQgZ2VuZXJhdGUgY29sb3IgdHVwbGVzLlxuICAgIC8vIGZyb20gSm9obiBSZXNpZyBjb2xvciBwbHVnaW5cbiAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vanF1ZXJ5L2pxdWVyeS1jb2xvci9cbiAgICBzdHJpbmdQYXJzZXJzOiBbe1xuICAgICAgcmU6IC9yZ2JcXChcXHMqKFxcZHsxLDN9KVxccyosXFxzKihcXGR7MSwzfSlcXHMqLFxccyooXFxkezEsM30pXFxzKj9cXCkvLFxuICAgICAgZm9ybWF0OiAncmdiJyxcbiAgICAgIHBhcnNlOiBmdW5jdGlvbihleGVjUmVzdWx0KSB7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgZXhlY1Jlc3VsdFsxXSxcbiAgICAgICAgICBleGVjUmVzdWx0WzJdLFxuICAgICAgICAgIGV4ZWNSZXN1bHRbM10sXG4gICAgICAgICAgMVxuICAgICAgICBdO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIHJlOiAvcmdiXFwoXFxzKihcXGQqKD86XFwuXFxkKyk/KVxcJVxccyosXFxzKihcXGQqKD86XFwuXFxkKyk/KVxcJVxccyosXFxzKihcXGQqKD86XFwuXFxkKyk/KVxcJVxccyo/XFwpLyxcbiAgICAgIGZvcm1hdDogJ3JnYicsXG4gICAgICBwYXJzZTogZnVuY3Rpb24oZXhlY1Jlc3VsdCkge1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgIDIuNTUgKiBleGVjUmVzdWx0WzFdLFxuICAgICAgICAgIDIuNTUgKiBleGVjUmVzdWx0WzJdLFxuICAgICAgICAgIDIuNTUgKiBleGVjUmVzdWx0WzNdLFxuICAgICAgICAgIDFcbiAgICAgICAgXTtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICByZTogL3JnYmFcXChcXHMqKFxcZHsxLDN9KVxccyosXFxzKihcXGR7MSwzfSlcXHMqLFxccyooXFxkezEsM30pXFxzKig/OixcXHMqKFxcZCooPzpcXC5cXGQrKT8pXFxzKik/XFwpLyxcbiAgICAgIGZvcm1hdDogJ3JnYmEnLFxuICAgICAgcGFyc2U6IGZ1bmN0aW9uKGV4ZWNSZXN1bHQpIHtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICBleGVjUmVzdWx0WzFdLFxuICAgICAgICAgIGV4ZWNSZXN1bHRbMl0sXG4gICAgICAgICAgZXhlY1Jlc3VsdFszXSxcbiAgICAgICAgICBleGVjUmVzdWx0WzRdXG4gICAgICAgIF07XG4gICAgICB9XG4gICAgfSwge1xuICAgICAgcmU6IC9yZ2JhXFwoXFxzKihcXGQqKD86XFwuXFxkKyk/KVxcJVxccyosXFxzKihcXGQqKD86XFwuXFxkKyk/KVxcJVxccyosXFxzKihcXGQqKD86XFwuXFxkKyk/KVxcJVxccyooPzosXFxzKihcXGQqKD86XFwuXFxkKyk/KVxccyopP1xcKS8sXG4gICAgICBmb3JtYXQ6ICdyZ2JhJyxcbiAgICAgIHBhcnNlOiBmdW5jdGlvbihleGVjUmVzdWx0KSB7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgMi41NSAqIGV4ZWNSZXN1bHRbMV0sXG4gICAgICAgICAgMi41NSAqIGV4ZWNSZXN1bHRbMl0sXG4gICAgICAgICAgMi41NSAqIGV4ZWNSZXN1bHRbM10sXG4gICAgICAgICAgZXhlY1Jlc3VsdFs0XVxuICAgICAgICBdO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIHJlOiAvaHNsXFwoXFxzKihcXGQqKD86XFwuXFxkKyk/KVxccyosXFxzKihcXGQqKD86XFwuXFxkKyk/KVxcJVxccyosXFxzKihcXGQqKD86XFwuXFxkKyk/KVxcJVxccyo/XFwpLyxcbiAgICAgIGZvcm1hdDogJ2hzbCcsXG4gICAgICBwYXJzZTogZnVuY3Rpb24oZXhlY1Jlc3VsdCkge1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgIGV4ZWNSZXN1bHRbMV0gLyAzNjAsXG4gICAgICAgICAgZXhlY1Jlc3VsdFsyXSAvIDEwMCxcbiAgICAgICAgICBleGVjUmVzdWx0WzNdIC8gMTAwLFxuICAgICAgICAgIGV4ZWNSZXN1bHRbNF1cbiAgICAgICAgXTtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICByZTogL2hzbGFcXChcXHMqKFxcZCooPzpcXC5cXGQrKT8pXFxzKixcXHMqKFxcZCooPzpcXC5cXGQrKT8pXFwlXFxzKixcXHMqKFxcZCooPzpcXC5cXGQrKT8pXFwlXFxzKig/OixcXHMqKFxcZCooPzpcXC5cXGQrKT8pXFxzKik/XFwpLyxcbiAgICAgIGZvcm1hdDogJ2hzbGEnLFxuICAgICAgcGFyc2U6IGZ1bmN0aW9uKGV4ZWNSZXN1bHQpIHtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICBleGVjUmVzdWx0WzFdIC8gMzYwLFxuICAgICAgICAgIGV4ZWNSZXN1bHRbMl0gLyAxMDAsXG4gICAgICAgICAgZXhlY1Jlc3VsdFszXSAvIDEwMCxcbiAgICAgICAgICBleGVjUmVzdWx0WzRdXG4gICAgICAgIF07XG4gICAgICB9XG4gICAgfSwge1xuICAgICAgcmU6IC8jPyhbYS1mQS1GMC05XXsyfSkoW2EtZkEtRjAtOV17Mn0pKFthLWZBLUYwLTldezJ9KS8sXG4gICAgICBmb3JtYXQ6ICdoZXgnLFxuICAgICAgcGFyc2U6IGZ1bmN0aW9uKGV4ZWNSZXN1bHQpIHtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICBwYXJzZUludChleGVjUmVzdWx0WzFdLCAxNiksXG4gICAgICAgICAgcGFyc2VJbnQoZXhlY1Jlc3VsdFsyXSwgMTYpLFxuICAgICAgICAgIHBhcnNlSW50KGV4ZWNSZXN1bHRbM10sIDE2KSxcbiAgICAgICAgICAxXG4gICAgICAgIF07XG4gICAgICB9XG4gICAgfSwge1xuICAgICAgcmU6IC8jPyhbYS1mQS1GMC05XSkoW2EtZkEtRjAtOV0pKFthLWZBLUYwLTldKS8sXG4gICAgICBmb3JtYXQ6ICdoZXgnLFxuICAgICAgcGFyc2U6IGZ1bmN0aW9uKGV4ZWNSZXN1bHQpIHtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICBwYXJzZUludChleGVjUmVzdWx0WzFdICsgZXhlY1Jlc3VsdFsxXSwgMTYpLFxuICAgICAgICAgIHBhcnNlSW50KGV4ZWNSZXN1bHRbMl0gKyBleGVjUmVzdWx0WzJdLCAxNiksXG4gICAgICAgICAgcGFyc2VJbnQoZXhlY1Jlc3VsdFszXSArIGV4ZWNSZXN1bHRbM10sIDE2KSxcbiAgICAgICAgICAxXG4gICAgICAgIF07XG4gICAgICB9XG4gICAgfV0sXG4gICAgY29sb3JOYW1lVG9IZXg6IGZ1bmN0aW9uKG5hbWUpIHtcbiAgICAgIGlmICh0eXBlb2YgdGhpcy5jb2xvcnNbbmFtZS50b0xvd2VyQ2FzZSgpXSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29sb3JzW25hbWUudG9Mb3dlckNhc2UoKV07XG4gICAgICB9XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9O1xuXG4gIC8qXG4gICAqIERlZmF1bHQgcGx1Z2luIG9wdGlvbnNcbiAgICovXG4gIHZhciBkZWZhdWx0cyA9IHtcbiAgICBob3Jpem9udGFsOiBmYWxzZSwgLy8gaG9yaXpvbnRhbCBtb2RlIGxheW91dCA/XG4gICAgaW5saW5lOiBmYWxzZSwgLy9mb3JjZXMgdG8gc2hvdyB0aGUgY29sb3JwaWNrZXIgYXMgYW4gaW5saW5lIGVsZW1lbnRcbiAgICBjb2xvcjogZmFsc2UsIC8vZm9yY2VzIGEgY29sb3JcbiAgICBmb3JtYXQ6IGZhbHNlLCAvL2ZvcmNlcyBhIGZvcm1hdFxuICAgIGlucHV0OiAnaW5wdXQnLCAvLyBjaGlsZHJlbiBpbnB1dCBzZWxlY3RvclxuICAgIGNvbnRhaW5lcjogZmFsc2UsIC8vIGNvbnRhaW5lciBzZWxlY3RvclxuICAgIGNvbXBvbmVudDogJy5hZGQtb24sIC5pbnB1dC1ncm91cC1hZGRvbicsIC8vIGNoaWxkcmVuIGNvbXBvbmVudCBzZWxlY3RvclxuICAgIGZhbGxiYWNrQ29sb3I6IGZhbHNlLCAvLyBmYWxsYmFjayBjb2xvciB2YWx1ZS4gbnVsbCA9IGtlZXBzIGN1cnJlbnQgY29sb3IuXG4gICAgZmFsbGJhY2tGb3JtYXQ6ICdoZXgnLCAvLyBmYWxsYmFjayBjb2xvciBmb3JtYXRcbiAgICBoZXhOdW1iZXJTaWduUHJlZml4OiB0cnVlLCAvLyBwdXQgYSAnIycgKG51bWJlciBzaWduKSBiZWZvcmUgaGV4IHN0cmluZ3NcbiAgICBzbGlkZXJzOiB7XG4gICAgICBzYXR1cmF0aW9uOiB7XG4gICAgICAgIG1heExlZnQ6IDEwMCxcbiAgICAgICAgbWF4VG9wOiAxMDAsXG4gICAgICAgIGNhbGxMZWZ0OiAnc2V0U2F0dXJhdGlvbicsXG4gICAgICAgIGNhbGxUb3A6ICdzZXRCcmlnaHRuZXNzJ1xuICAgICAgfSxcbiAgICAgIGh1ZToge1xuICAgICAgICBtYXhMZWZ0OiAwLFxuICAgICAgICBtYXhUb3A6IDEwMCxcbiAgICAgICAgY2FsbExlZnQ6IGZhbHNlLFxuICAgICAgICBjYWxsVG9wOiAnc2V0SHVlJ1xuICAgICAgfSxcbiAgICAgIGFscGhhOiB7XG4gICAgICAgIG1heExlZnQ6IDAsXG4gICAgICAgIG1heFRvcDogMTAwLFxuICAgICAgICBjYWxsTGVmdDogZmFsc2UsXG4gICAgICAgIGNhbGxUb3A6ICdzZXRBbHBoYSdcbiAgICAgIH1cbiAgICB9LFxuICAgIHNsaWRlcnNIb3J6OiB7XG4gICAgICBzYXR1cmF0aW9uOiB7XG4gICAgICAgIG1heExlZnQ6IDEwMCxcbiAgICAgICAgbWF4VG9wOiAxMDAsXG4gICAgICAgIGNhbGxMZWZ0OiAnc2V0U2F0dXJhdGlvbicsXG4gICAgICAgIGNhbGxUb3A6ICdzZXRCcmlnaHRuZXNzJ1xuICAgICAgfSxcbiAgICAgIGh1ZToge1xuICAgICAgICBtYXhMZWZ0OiAxMDAsXG4gICAgICAgIG1heFRvcDogMCxcbiAgICAgICAgY2FsbExlZnQ6ICdzZXRIdWUnLFxuICAgICAgICBjYWxsVG9wOiBmYWxzZVxuICAgICAgfSxcbiAgICAgIGFscGhhOiB7XG4gICAgICAgIG1heExlZnQ6IDEwMCxcbiAgICAgICAgbWF4VG9wOiAwLFxuICAgICAgICBjYWxsTGVmdDogJ3NldEFscGhhJyxcbiAgICAgICAgY2FsbFRvcDogZmFsc2VcbiAgICAgIH1cbiAgICB9LFxuICAgIHRlbXBsYXRlOiAnPGRpdiBjbGFzcz1cImNvbG9ycGlja2VyIGRyb3Bkb3duLW1lbnVcIj4nICtcbiAgICAgICc8ZGl2IGNsYXNzPVwiY29sb3JwaWNrZXItc2F0dXJhdGlvblwiPjxpPjxiPjwvYj48L2k+PC9kaXY+JyArXG4gICAgICAnPGRpdiBjbGFzcz1cImNvbG9ycGlja2VyLWh1ZVwiPjxpPjwvaT48L2Rpdj4nICtcbiAgICAgICc8ZGl2IGNsYXNzPVwiY29sb3JwaWNrZXItYWxwaGFcIj48aT48L2k+PC9kaXY+JyArXG4gICAgICAnPGRpdiBjbGFzcz1cImNvbG9ycGlja2VyLWNvbG9yXCI+PGRpdiAvPjwvZGl2PicgK1xuICAgICAgJzxkaXYgY2xhc3M9XCJjb2xvcnBpY2tlci1zZWxlY3RvcnNcIj48L2Rpdj4nICtcbiAgICAgICc8L2Rpdj4nLFxuICAgIGFsaWduOiAncmlnaHQnLFxuICAgIGN1c3RvbUNsYXNzOiBudWxsLCAvLyBjdXN0b20gY2xhc3MgYWRkZWQgdG8gdGhlIGNvbG9ycGlja2VyIGVsZW1lbnRcbiAgICBjb2xvclNlbGVjdG9yczogbnVsbCAvLyBjdXN0b20gY29sb3IgYWxpYXNlc1xuICB9O1xuXG4gIC8qKlxuICAgKiBDb2xvcnBpY2tlciBjb21wb25lbnQgY2xhc3NcbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R8U3RyaW5nfSBlbGVtZW50XG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAqIEBjb25zdHJ1Y3RvclxuICAgKi9cbiAgdmFyIENvbG9ycGlja2VyID0gZnVuY3Rpb24oZWxlbWVudCwgb3B0aW9ucykge1xuICAgIHRoaXMuZWxlbWVudCA9ICQoZWxlbWVudCkuYWRkQ2xhc3MoJ2NvbG9ycGlja2VyLWVsZW1lbnQnKTtcbiAgICB0aGlzLm9wdGlvbnMgPSAkLmV4dGVuZCh0cnVlLCB7fSwgZGVmYXVsdHMsIHRoaXMuZWxlbWVudC5kYXRhKCksIG9wdGlvbnMpO1xuICAgIHRoaXMuY29tcG9uZW50ID0gdGhpcy5vcHRpb25zLmNvbXBvbmVudDtcbiAgICB0aGlzLmNvbXBvbmVudCA9ICh0aGlzLmNvbXBvbmVudCAhPT0gZmFsc2UpID8gdGhpcy5lbGVtZW50LmZpbmQodGhpcy5jb21wb25lbnQpIDogZmFsc2U7XG4gICAgaWYgKHRoaXMuY29tcG9uZW50ICYmICh0aGlzLmNvbXBvbmVudC5sZW5ndGggPT09IDApKSB7XG4gICAgICB0aGlzLmNvbXBvbmVudCA9IGZhbHNlO1xuICAgIH1cbiAgICB0aGlzLmNvbnRhaW5lciA9ICh0aGlzLm9wdGlvbnMuY29udGFpbmVyID09PSB0cnVlKSA/IHRoaXMuZWxlbWVudCA6IHRoaXMub3B0aW9ucy5jb250YWluZXI7XG4gICAgdGhpcy5jb250YWluZXIgPSAodGhpcy5jb250YWluZXIgIT09IGZhbHNlKSA/ICQodGhpcy5jb250YWluZXIpIDogZmFsc2U7XG5cbiAgICAvLyBJcyB0aGUgZWxlbWVudCBhbiBpbnB1dD8gU2hvdWxkIHdlIHNlYXJjaCBpbnNpZGUgZm9yIGFueSBpbnB1dD9cbiAgICB0aGlzLmlucHV0ID0gdGhpcy5lbGVtZW50LmlzKCdpbnB1dCcpID8gdGhpcy5lbGVtZW50IDogKHRoaXMub3B0aW9ucy5pbnB1dCA/XG4gICAgICB0aGlzLmVsZW1lbnQuZmluZCh0aGlzLm9wdGlvbnMuaW5wdXQpIDogZmFsc2UpO1xuICAgIGlmICh0aGlzLmlucHV0ICYmICh0aGlzLmlucHV0Lmxlbmd0aCA9PT0gMCkpIHtcbiAgICAgIHRoaXMuaW5wdXQgPSBmYWxzZTtcbiAgICB9XG4gICAgLy8gU2V0IEhTQiBjb2xvclxuICAgIHRoaXMuY29sb3IgPSB0aGlzLmNyZWF0ZUNvbG9yKHRoaXMub3B0aW9ucy5jb2xvciAhPT0gZmFsc2UgPyB0aGlzLm9wdGlvbnMuY29sb3IgOiB0aGlzLmdldFZhbHVlKCkpO1xuXG4gICAgdGhpcy5mb3JtYXQgPSB0aGlzLm9wdGlvbnMuZm9ybWF0ICE9PSBmYWxzZSA/IHRoaXMub3B0aW9ucy5mb3JtYXQgOiB0aGlzLmNvbG9yLm9yaWdGb3JtYXQ7XG5cbiAgICBpZiAodGhpcy5vcHRpb25zLmNvbG9yICE9PSBmYWxzZSkge1xuICAgICAgdGhpcy51cGRhdGVJbnB1dCh0aGlzLmNvbG9yKTtcbiAgICAgIHRoaXMudXBkYXRlRGF0YSh0aGlzLmNvbG9yKTtcbiAgICB9XG5cbiAgICB0aGlzLmRpc2FibGVkID0gZmFsc2U7XG5cbiAgICAvLyBTZXR1cCBwaWNrZXJcbiAgICB2YXIgJHBpY2tlciA9IHRoaXMucGlja2VyID0gJCh0aGlzLm9wdGlvbnMudGVtcGxhdGUpO1xuICAgIGlmICh0aGlzLm9wdGlvbnMuY3VzdG9tQ2xhc3MpIHtcbiAgICAgICRwaWNrZXIuYWRkQ2xhc3ModGhpcy5vcHRpb25zLmN1c3RvbUNsYXNzKTtcbiAgICB9XG4gICAgaWYgKHRoaXMub3B0aW9ucy5pbmxpbmUpIHtcbiAgICAgICRwaWNrZXIuYWRkQ2xhc3MoJ2NvbG9ycGlja2VyLWlubGluZSBjb2xvcnBpY2tlci12aXNpYmxlJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgICRwaWNrZXIuYWRkQ2xhc3MoJ2NvbG9ycGlja2VyLWhpZGRlbicpO1xuICAgIH1cbiAgICBpZiAodGhpcy5vcHRpb25zLmhvcml6b250YWwpIHtcbiAgICAgICRwaWNrZXIuYWRkQ2xhc3MoJ2NvbG9ycGlja2VyLWhvcml6b250YWwnKTtcbiAgICB9XG4gICAgaWYgKFxuICAgICAgKFsncmdiYScsICdoc2xhJywgJ2FsaWFzJ10uaW5kZXhPZih0aGlzLmZvcm1hdCkgIT09IC0xKSB8fFxuICAgICAgdGhpcy5vcHRpb25zLmZvcm1hdCA9PT0gZmFsc2UgfHxcbiAgICAgIHRoaXMuZ2V0VmFsdWUoKSA9PT0gJ3RyYW5zcGFyZW50J1xuICAgICkge1xuICAgICAgJHBpY2tlci5hZGRDbGFzcygnY29sb3JwaWNrZXItd2l0aC1hbHBoYScpO1xuICAgIH1cbiAgICBpZiAodGhpcy5vcHRpb25zLmFsaWduID09PSAncmlnaHQnKSB7XG4gICAgICAkcGlja2VyLmFkZENsYXNzKCdjb2xvcnBpY2tlci1yaWdodCcpO1xuICAgIH1cbiAgICBpZiAodGhpcy5vcHRpb25zLmlubGluZSA9PT0gdHJ1ZSkge1xuICAgICAgJHBpY2tlci5hZGRDbGFzcygnY29sb3JwaWNrZXItbm8tYXJyb3cnKTtcbiAgICB9XG4gICAgaWYgKHRoaXMub3B0aW9ucy5jb2xvclNlbGVjdG9ycykge1xuICAgICAgdmFyIGNvbG9ycGlja2VyID0gdGhpcyxcbiAgICAgICAgc2VsZWN0b3JzQ29udGFpbmVyID0gY29sb3JwaWNrZXIucGlja2VyLmZpbmQoJy5jb2xvcnBpY2tlci1zZWxlY3RvcnMnKTtcblxuICAgICAgaWYgKHNlbGVjdG9yc0NvbnRhaW5lci5sZW5ndGggPiAwKSB7XG4gICAgICAgICQuZWFjaCh0aGlzLm9wdGlvbnMuY29sb3JTZWxlY3RvcnMsIGZ1bmN0aW9uKG5hbWUsIGNvbG9yKSB7XG4gICAgICAgICAgdmFyICRidG4gPSAkKCc8aSAvPicpXG4gICAgICAgICAgICAuYWRkQ2xhc3MoJ2NvbG9ycGlja2VyLXNlbGVjdG9ycy1jb2xvcicpXG4gICAgICAgICAgICAuY3NzKCdiYWNrZ3JvdW5kLWNvbG9yJywgY29sb3IpXG4gICAgICAgICAgICAuZGF0YSgnY2xhc3MnLCBuYW1lKS5kYXRhKCdhbGlhcycsIG5hbWUpO1xuXG4gICAgICAgICAgJGJ0bi5vbignbW91c2Vkb3duLmNvbG9ycGlja2VyIHRvdWNoc3RhcnQuY29sb3JwaWNrZXInLCBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIGNvbG9ycGlja2VyLnNldFZhbHVlKFxuICAgICAgICAgICAgICBjb2xvcnBpY2tlci5mb3JtYXQgPT09ICdhbGlhcycgPyAkKHRoaXMpLmRhdGEoJ2FsaWFzJykgOiAkKHRoaXMpLmNzcygnYmFja2dyb3VuZC1jb2xvcicpXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHNlbGVjdG9yc0NvbnRhaW5lci5hcHBlbmQoJGJ0bik7XG4gICAgICAgIH0pO1xuICAgICAgICBzZWxlY3RvcnNDb250YWluZXIuc2hvdygpLmFkZENsYXNzKCdjb2xvcnBpY2tlci12aXNpYmxlJyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gUHJldmVudCBjbG9zaW5nIHRoZSBjb2xvcnBpY2tlciB3aGVuIGNsaWNraW5nIG9uIGl0c2VsZlxuICAgICRwaWNrZXIub24oJ21vdXNlZG93bi5jb2xvcnBpY2tlciB0b3VjaHN0YXJ0LmNvbG9ycGlja2VyJywgJC5wcm94eShmdW5jdGlvbihlKSB7XG4gICAgICBpZiAoZS50YXJnZXQgPT09IGUuY3VycmVudFRhcmdldCkge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB9XG4gICAgfSwgdGhpcykpO1xuXG4gICAgLy8gQmluZCBjbGljay90YXAgZXZlbnRzIG9uIHRoZSBzbGlkZXJzXG4gICAgJHBpY2tlci5maW5kKCcuY29sb3JwaWNrZXItc2F0dXJhdGlvbiwgLmNvbG9ycGlja2VyLWh1ZSwgLmNvbG9ycGlja2VyLWFscGhhJylcbiAgICAgIC5vbignbW91c2Vkb3duLmNvbG9ycGlja2VyIHRvdWNoc3RhcnQuY29sb3JwaWNrZXInLCAkLnByb3h5KHRoaXMubW91c2Vkb3duLCB0aGlzKSk7XG5cbiAgICAkcGlja2VyLmFwcGVuZFRvKHRoaXMuY29udGFpbmVyID8gdGhpcy5jb250YWluZXIgOiAkKCdib2R5JykpO1xuXG4gICAgLy8gQmluZCBvdGhlciBldmVudHNcbiAgICBpZiAodGhpcy5pbnB1dCAhPT0gZmFsc2UpIHtcbiAgICAgIHRoaXMuaW5wdXQub24oe1xuICAgICAgICAna2V5dXAuY29sb3JwaWNrZXInOiAkLnByb3h5KHRoaXMua2V5dXAsIHRoaXMpXG4gICAgICB9KTtcbiAgICAgIHRoaXMuaW5wdXQub24oe1xuICAgICAgICAnY2hhbmdlLmNvbG9ycGlja2VyJzogJC5wcm94eSh0aGlzLmNoYW5nZSwgdGhpcylcbiAgICAgIH0pO1xuICAgICAgaWYgKHRoaXMuY29tcG9uZW50ID09PSBmYWxzZSkge1xuICAgICAgICB0aGlzLmVsZW1lbnQub24oe1xuICAgICAgICAgICdmb2N1cy5jb2xvcnBpY2tlcic6ICQucHJveHkodGhpcy5zaG93LCB0aGlzKVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLm9wdGlvbnMuaW5saW5lID09PSBmYWxzZSkge1xuICAgICAgICB0aGlzLmVsZW1lbnQub24oe1xuICAgICAgICAgICdmb2N1c291dC5jb2xvcnBpY2tlcic6ICQucHJveHkodGhpcy5oaWRlLCB0aGlzKVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodGhpcy5jb21wb25lbnQgIT09IGZhbHNlKSB7XG4gICAgICB0aGlzLmNvbXBvbmVudC5vbih7XG4gICAgICAgICdjbGljay5jb2xvcnBpY2tlcic6ICQucHJveHkodGhpcy5zaG93LCB0aGlzKVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKCh0aGlzLmlucHV0ID09PSBmYWxzZSkgJiYgKHRoaXMuY29tcG9uZW50ID09PSBmYWxzZSkpIHtcbiAgICAgIHRoaXMuZWxlbWVudC5vbih7XG4gICAgICAgICdjbGljay5jb2xvcnBpY2tlcic6ICQucHJveHkodGhpcy5zaG93LCB0aGlzKVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gZm9yIEhUTUw1IGlucHV0W3R5cGU9J2NvbG9yJ11cbiAgICBpZiAoKHRoaXMuaW5wdXQgIT09IGZhbHNlKSAmJiAodGhpcy5jb21wb25lbnQgIT09IGZhbHNlKSAmJiAodGhpcy5pbnB1dC5hdHRyKCd0eXBlJykgPT09ICdjb2xvcicpKSB7XG5cbiAgICAgIHRoaXMuaW5wdXQub24oe1xuICAgICAgICAnY2xpY2suY29sb3JwaWNrZXInOiAkLnByb3h5KHRoaXMuc2hvdywgdGhpcyksXG4gICAgICAgICdmb2N1cy5jb2xvcnBpY2tlcic6ICQucHJveHkodGhpcy5zaG93LCB0aGlzKVxuICAgICAgfSk7XG4gICAgfVxuICAgIHRoaXMudXBkYXRlKCk7XG5cbiAgICAkKCQucHJveHkoZnVuY3Rpb24oKSB7XG4gICAgICB0aGlzLmVsZW1lbnQudHJpZ2dlcignY3JlYXRlJyk7XG4gICAgfSwgdGhpcykpO1xuICB9O1xuXG4gIENvbG9ycGlja2VyLkNvbG9yID0gQ29sb3I7XG5cbiAgQ29sb3JwaWNrZXIucHJvdG90eXBlID0ge1xuICAgIGNvbnN0cnVjdG9yOiBDb2xvcnBpY2tlcixcbiAgICBkZXN0cm95OiBmdW5jdGlvbigpIHtcbiAgICAgIHRoaXMucGlja2VyLnJlbW92ZSgpO1xuICAgICAgdGhpcy5lbGVtZW50LnJlbW92ZURhdGEoJ2NvbG9ycGlja2VyJywgJ2NvbG9yJykub2ZmKCcuY29sb3JwaWNrZXInKTtcbiAgICAgIGlmICh0aGlzLmlucHV0ICE9PSBmYWxzZSkge1xuICAgICAgICB0aGlzLmlucHV0Lm9mZignLmNvbG9ycGlja2VyJyk7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5jb21wb25lbnQgIT09IGZhbHNlKSB7XG4gICAgICAgIHRoaXMuY29tcG9uZW50Lm9mZignLmNvbG9ycGlja2VyJyk7XG4gICAgICB9XG4gICAgICB0aGlzLmVsZW1lbnQucmVtb3ZlQ2xhc3MoJ2NvbG9ycGlja2VyLWVsZW1lbnQnKTtcbiAgICAgIHRoaXMuZWxlbWVudC50cmlnZ2VyKHtcbiAgICAgICAgdHlwZTogJ2Rlc3Ryb3knXG4gICAgICB9KTtcbiAgICB9LFxuICAgIHJlcG9zaXRpb246IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKHRoaXMub3B0aW9ucy5pbmxpbmUgIT09IGZhbHNlIHx8IHRoaXMub3B0aW9ucy5jb250YWluZXIpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgdmFyIHR5cGUgPSB0aGlzLmNvbnRhaW5lciAmJiB0aGlzLmNvbnRhaW5lclswXSAhPT0gd2luZG93LmRvY3VtZW50LmJvZHkgPyAncG9zaXRpb24nIDogJ29mZnNldCc7XG4gICAgICB2YXIgZWxlbWVudCA9IHRoaXMuY29tcG9uZW50IHx8IHRoaXMuZWxlbWVudDtcbiAgICAgIHZhciBvZmZzZXQgPSBlbGVtZW50W3R5cGVdKCk7XG4gICAgICBpZiAodGhpcy5vcHRpb25zLmFsaWduID09PSAncmlnaHQnKSB7XG4gICAgICAgIG9mZnNldC5sZWZ0IC09IHRoaXMucGlja2VyLm91dGVyV2lkdGgoKSAtIGVsZW1lbnQub3V0ZXJXaWR0aCgpO1xuICAgICAgfVxuICAgICAgdGhpcy5waWNrZXIuY3NzKHtcbiAgICAgICAgdG9wOiBvZmZzZXQudG9wICsgZWxlbWVudC5vdXRlckhlaWdodCgpLFxuICAgICAgICBsZWZ0OiBvZmZzZXQubGVmdFxuICAgICAgfSk7XG4gICAgfSxcbiAgICBzaG93OiBmdW5jdGlvbihlKSB7XG4gICAgICBpZiAodGhpcy5pc0Rpc2FibGVkKCkpIHtcbiAgICAgICAgLy8gRG9uJ3Qgc2hvdyB0aGUgd2lkZ2V0IGlmIGl0J3MgZGlzYWJsZWQgKHRoZSBpbnB1dClcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdGhpcy5waWNrZXIuYWRkQ2xhc3MoJ2NvbG9ycGlja2VyLXZpc2libGUnKS5yZW1vdmVDbGFzcygnY29sb3JwaWNrZXItaGlkZGVuJyk7XG4gICAgICB0aGlzLnJlcG9zaXRpb24oKTtcbiAgICAgICQod2luZG93KS5vbigncmVzaXplLmNvbG9ycGlja2VyJywgJC5wcm94eSh0aGlzLnJlcG9zaXRpb24sIHRoaXMpKTtcbiAgICAgIGlmIChlICYmICghdGhpcy5oYXNJbnB1dCgpIHx8IHRoaXMuaW5wdXQuYXR0cigndHlwZScpID09PSAnY29sb3InKSkge1xuICAgICAgICBpZiAoZS5zdG9wUHJvcGFnYXRpb24gJiYgZS5wcmV2ZW50RGVmYXVsdCkge1xuICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoKHRoaXMuY29tcG9uZW50IHx8ICF0aGlzLmlucHV0KSAmJiAodGhpcy5vcHRpb25zLmlubGluZSA9PT0gZmFsc2UpKSB7XG4gICAgICAgICQod2luZG93LmRvY3VtZW50KS5vbih7XG4gICAgICAgICAgJ21vdXNlZG93bi5jb2xvcnBpY2tlcic6ICQucHJveHkodGhpcy5oaWRlLCB0aGlzKVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHRoaXMuZWxlbWVudC50cmlnZ2VyKHtcbiAgICAgICAgdHlwZTogJ3Nob3dQaWNrZXInLFxuICAgICAgICBjb2xvcjogdGhpcy5jb2xvclxuICAgICAgfSk7XG4gICAgfSxcbiAgICBoaWRlOiBmdW5jdGlvbihlKSB7XG4gICAgICBpZiAoKHR5cGVvZiBlICE9PSAndW5kZWZpbmVkJykgJiYgZS50YXJnZXQpIHtcbiAgICAgICAgLy8gUHJldmVudCBoaWRlIGlmIHRyaWdnZXJlZCBieSBhbiBldmVudCBhbmQgYW4gZWxlbWVudCBpbnNpZGUgdGhlIGNvbG9ycGlja2VyIGhhcyBiZWVuIGNsaWNrZWQvdG91Y2hlZFxuICAgICAgICBpZiAoXG4gICAgICAgICAgJChlLmN1cnJlbnRUYXJnZXQpLnBhcmVudHMoJy5jb2xvcnBpY2tlcicpLmxlbmd0aCA+IDAgfHxcbiAgICAgICAgICAkKGUudGFyZ2V0KS5wYXJlbnRzKCcuY29sb3JwaWNrZXInKS5sZW5ndGggPiAwXG4gICAgICAgICkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdGhpcy5waWNrZXIuYWRkQ2xhc3MoJ2NvbG9ycGlja2VyLWhpZGRlbicpLnJlbW92ZUNsYXNzKCdjb2xvcnBpY2tlci12aXNpYmxlJyk7XG4gICAgICAkKHdpbmRvdykub2ZmKCdyZXNpemUuY29sb3JwaWNrZXInLCB0aGlzLnJlcG9zaXRpb24pO1xuICAgICAgJCh3aW5kb3cuZG9jdW1lbnQpLm9mZih7XG4gICAgICAgICdtb3VzZWRvd24uY29sb3JwaWNrZXInOiB0aGlzLmhpZGVcbiAgICAgIH0pO1xuICAgICAgdGhpcy51cGRhdGUoKTtcbiAgICAgIHRoaXMuZWxlbWVudC50cmlnZ2VyKHtcbiAgICAgICAgdHlwZTogJ2hpZGVQaWNrZXInLFxuICAgICAgICBjb2xvcjogdGhpcy5jb2xvclxuICAgICAgfSk7XG4gICAgfSxcbiAgICB1cGRhdGVEYXRhOiBmdW5jdGlvbih2YWwpIHtcbiAgICAgIHZhbCA9IHZhbCB8fCB0aGlzLmNvbG9yLnRvU3RyaW5nKGZhbHNlLCB0aGlzLmZvcm1hdCk7XG4gICAgICB0aGlzLmVsZW1lbnQuZGF0YSgnY29sb3InLCB2YWwpO1xuICAgICAgcmV0dXJuIHZhbDtcbiAgICB9LFxuICAgIHVwZGF0ZUlucHV0OiBmdW5jdGlvbih2YWwpIHtcbiAgICAgIHZhbCA9IHZhbCB8fCB0aGlzLmNvbG9yLnRvU3RyaW5nKGZhbHNlLCB0aGlzLmZvcm1hdCk7XG4gICAgICBpZiAodGhpcy5pbnB1dCAhPT0gZmFsc2UpIHtcbiAgICAgICAgdGhpcy5pbnB1dC5wcm9wKCd2YWx1ZScsIHZhbCk7XG4gICAgICAgIHRoaXMuaW5wdXQudHJpZ2dlcignY2hhbmdlJyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdmFsO1xuICAgIH0sXG4gICAgdXBkYXRlUGlja2VyOiBmdW5jdGlvbih2YWwpIHtcbiAgICAgIGlmICh0eXBlb2YgdmFsICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICB0aGlzLmNvbG9yID0gdGhpcy5jcmVhdGVDb2xvcih2YWwpO1xuICAgICAgfVxuICAgICAgdmFyIHNsID0gKHRoaXMub3B0aW9ucy5ob3Jpem9udGFsID09PSBmYWxzZSkgPyB0aGlzLm9wdGlvbnMuc2xpZGVycyA6IHRoaXMub3B0aW9ucy5zbGlkZXJzSG9yejtcbiAgICAgIHZhciBpY25zID0gdGhpcy5waWNrZXIuZmluZCgnaScpO1xuICAgICAgaWYgKGljbnMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLm9wdGlvbnMuaG9yaXpvbnRhbCA9PT0gZmFsc2UpIHtcbiAgICAgICAgc2wgPSB0aGlzLm9wdGlvbnMuc2xpZGVycztcbiAgICAgICAgaWNucy5lcSgxKS5jc3MoJ3RvcCcsIHNsLmh1ZS5tYXhUb3AgKiAoMSAtIHRoaXMuY29sb3IudmFsdWUuaCkpLmVuZCgpXG4gICAgICAgICAgLmVxKDIpLmNzcygndG9wJywgc2wuYWxwaGEubWF4VG9wICogKDEgLSB0aGlzLmNvbG9yLnZhbHVlLmEpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNsID0gdGhpcy5vcHRpb25zLnNsaWRlcnNIb3J6O1xuICAgICAgICBpY25zLmVxKDEpLmNzcygnbGVmdCcsIHNsLmh1ZS5tYXhMZWZ0ICogKDEgLSB0aGlzLmNvbG9yLnZhbHVlLmgpKS5lbmQoKVxuICAgICAgICAgIC5lcSgyKS5jc3MoJ2xlZnQnLCBzbC5hbHBoYS5tYXhMZWZ0ICogKDEgLSB0aGlzLmNvbG9yLnZhbHVlLmEpKTtcbiAgICAgIH1cbiAgICAgIGljbnMuZXEoMCkuY3NzKHtcbiAgICAgICAgJ3RvcCc6IHNsLnNhdHVyYXRpb24ubWF4VG9wIC0gdGhpcy5jb2xvci52YWx1ZS5iICogc2wuc2F0dXJhdGlvbi5tYXhUb3AsXG4gICAgICAgICdsZWZ0JzogdGhpcy5jb2xvci52YWx1ZS5zICogc2wuc2F0dXJhdGlvbi5tYXhMZWZ0XG4gICAgICB9KTtcblxuICAgICAgdGhpcy5waWNrZXIuZmluZCgnLmNvbG9ycGlja2VyLXNhdHVyYXRpb24nKVxuICAgICAgICAuY3NzKCdiYWNrZ3JvdW5kQ29sb3InLCB0aGlzLmNvbG9yLnRvSGV4KHRydWUsIHRoaXMuY29sb3IudmFsdWUuaCwgMSwgMSwgMSkpO1xuXG4gICAgICB0aGlzLnBpY2tlci5maW5kKCcuY29sb3JwaWNrZXItYWxwaGEnKVxuICAgICAgICAuY3NzKCdiYWNrZ3JvdW5kQ29sb3InLCB0aGlzLmNvbG9yLnRvSGV4KHRydWUpKTtcblxuICAgICAgdGhpcy5waWNrZXIuZmluZCgnLmNvbG9ycGlja2VyLWNvbG9yLCAuY29sb3JwaWNrZXItY29sb3IgZGl2JylcbiAgICAgICAgLmNzcygnYmFja2dyb3VuZENvbG9yJywgdGhpcy5jb2xvci50b1N0cmluZyh0cnVlLCB0aGlzLmZvcm1hdCkpO1xuXG4gICAgICByZXR1cm4gdmFsO1xuICAgIH0sXG4gICAgdXBkYXRlQ29tcG9uZW50OiBmdW5jdGlvbih2YWwpIHtcbiAgICAgIHZhciBjb2xvcjtcblxuICAgICAgaWYgKHR5cGVvZiB2YWwgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGNvbG9yID0gdGhpcy5jcmVhdGVDb2xvcih2YWwpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29sb3IgPSB0aGlzLmNvbG9yO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5jb21wb25lbnQgIT09IGZhbHNlKSB7XG4gICAgICAgIHZhciBpY24gPSB0aGlzLmNvbXBvbmVudC5maW5kKCdpJykuZXEoMCk7XG4gICAgICAgIGlmIChpY24ubGVuZ3RoID4gMCkge1xuICAgICAgICAgIGljbi5jc3Moe1xuICAgICAgICAgICAgJ2JhY2tncm91bmRDb2xvcic6IGNvbG9yLnRvU3RyaW5nKHRydWUsIHRoaXMuZm9ybWF0KVxuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuY29tcG9uZW50LmNzcyh7XG4gICAgICAgICAgICAnYmFja2dyb3VuZENvbG9yJzogY29sb3IudG9TdHJpbmcodHJ1ZSwgdGhpcy5mb3JtYXQpXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGNvbG9yLnRvU3RyaW5nKGZhbHNlLCB0aGlzLmZvcm1hdCk7XG4gICAgfSxcbiAgICB1cGRhdGU6IGZ1bmN0aW9uKGZvcmNlKSB7XG4gICAgICB2YXIgdmFsO1xuICAgICAgaWYgKCh0aGlzLmdldFZhbHVlKGZhbHNlKSAhPT0gZmFsc2UpIHx8IChmb3JjZSA9PT0gdHJ1ZSkpIHtcbiAgICAgICAgLy8gVXBkYXRlIGlucHV0L2RhdGEgb25seSBpZiB0aGUgY3VycmVudCB2YWx1ZSBpcyBub3QgZW1wdHlcbiAgICAgICAgdmFsID0gdGhpcy51cGRhdGVDb21wb25lbnQoKTtcbiAgICAgICAgdGhpcy51cGRhdGVJbnB1dCh2YWwpO1xuICAgICAgICB0aGlzLnVwZGF0ZURhdGEodmFsKTtcbiAgICAgICAgdGhpcy51cGRhdGVQaWNrZXIoKTsgLy8gb25seSB1cGRhdGUgcGlja2VyIGlmIHZhbHVlIGlzIG5vdCBlbXB0eVxuICAgICAgfVxuICAgICAgcmV0dXJuIHZhbDtcblxuICAgIH0sXG4gICAgc2V0VmFsdWU6IGZ1bmN0aW9uKHZhbCkgeyAvLyBzZXQgY29sb3IgbWFudWFsbHlcbiAgICAgIHRoaXMuY29sb3IgPSB0aGlzLmNyZWF0ZUNvbG9yKHZhbCk7XG4gICAgICB0aGlzLnVwZGF0ZSh0cnVlKTtcbiAgICAgIHRoaXMuZWxlbWVudC50cmlnZ2VyKHtcbiAgICAgICAgdHlwZTogJ2NoYW5nZUNvbG9yJyxcbiAgICAgICAgY29sb3I6IHRoaXMuY29sb3IsXG4gICAgICAgIHZhbHVlOiB2YWxcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyBjb2xvciB1c2luZyB0aGUgaW5zdGFuY2Ugb3B0aW9uc1xuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gdmFsXG4gICAgICogQHJldHVybnMge0NvbG9yfVxuICAgICAqL1xuICAgIGNyZWF0ZUNvbG9yOiBmdW5jdGlvbih2YWwpIHtcbiAgICAgIHJldHVybiBuZXcgQ29sb3IoXG4gICAgICAgIHZhbCA/IHZhbCA6IG51bGwsXG4gICAgICAgIHRoaXMub3B0aW9ucy5jb2xvclNlbGVjdG9ycyxcbiAgICAgICAgdGhpcy5vcHRpb25zLmZhbGxiYWNrQ29sb3IgPyB0aGlzLm9wdGlvbnMuZmFsbGJhY2tDb2xvciA6IHRoaXMuY29sb3IsXG4gICAgICAgIHRoaXMub3B0aW9ucy5mYWxsYmFja0Zvcm1hdCxcbiAgICAgICAgdGhpcy5vcHRpb25zLmhleE51bWJlclNpZ25QcmVmaXhcbiAgICAgICk7XG4gICAgfSxcbiAgICBnZXRWYWx1ZTogZnVuY3Rpb24oZGVmYXVsdFZhbHVlKSB7XG4gICAgICBkZWZhdWx0VmFsdWUgPSAodHlwZW9mIGRlZmF1bHRWYWx1ZSA9PT0gJ3VuZGVmaW5lZCcpID8gdGhpcy5vcHRpb25zLmZhbGxiYWNrQ29sb3IgOiBkZWZhdWx0VmFsdWU7XG4gICAgICB2YXIgdmFsO1xuICAgICAgaWYgKHRoaXMuaGFzSW5wdXQoKSkge1xuICAgICAgICB2YWwgPSB0aGlzLmlucHV0LnZhbCgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFsID0gdGhpcy5lbGVtZW50LmRhdGEoJ2NvbG9yJyk7XG4gICAgICB9XG4gICAgICBpZiAoKHZhbCA9PT0gdW5kZWZpbmVkKSB8fCAodmFsID09PSAnJykgfHwgKHZhbCA9PT0gbnVsbCkpIHtcbiAgICAgICAgLy8gaWYgbm90IGRlZmluZWQgb3IgZW1wdHksIHJldHVybiBkZWZhdWx0XG4gICAgICAgIHZhbCA9IGRlZmF1bHRWYWx1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB2YWw7XG4gICAgfSxcbiAgICBoYXNJbnB1dDogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gKHRoaXMuaW5wdXQgIT09IGZhbHNlKTtcbiAgICB9LFxuICAgIGlzRGlzYWJsZWQ6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMuZGlzYWJsZWQ7XG4gICAgfSxcbiAgICBkaXNhYmxlOiBmdW5jdGlvbigpIHtcbiAgICAgIGlmICh0aGlzLmhhc0lucHV0KCkpIHtcbiAgICAgICAgdGhpcy5pbnB1dC5wcm9wKCdkaXNhYmxlZCcsIHRydWUpO1xuICAgICAgfVxuICAgICAgdGhpcy5kaXNhYmxlZCA9IHRydWU7XG4gICAgICB0aGlzLmVsZW1lbnQudHJpZ2dlcih7XG4gICAgICAgIHR5cGU6ICdkaXNhYmxlJyxcbiAgICAgICAgY29sb3I6IHRoaXMuY29sb3IsXG4gICAgICAgIHZhbHVlOiB0aGlzLmdldFZhbHVlKClcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSxcbiAgICBlbmFibGU6IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKHRoaXMuaGFzSW5wdXQoKSkge1xuICAgICAgICB0aGlzLmlucHV0LnByb3AoJ2Rpc2FibGVkJywgZmFsc2UpO1xuICAgICAgfVxuICAgICAgdGhpcy5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgdGhpcy5lbGVtZW50LnRyaWdnZXIoe1xuICAgICAgICB0eXBlOiAnZW5hYmxlJyxcbiAgICAgICAgY29sb3I6IHRoaXMuY29sb3IsXG4gICAgICAgIHZhbHVlOiB0aGlzLmdldFZhbHVlKClcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSxcbiAgICBjdXJyZW50U2xpZGVyOiBudWxsLFxuICAgIG1vdXNlUG9pbnRlcjoge1xuICAgICAgbGVmdDogMCxcbiAgICAgIHRvcDogMFxuICAgIH0sXG4gICAgbW91c2Vkb3duOiBmdW5jdGlvbihlKSB7XG4gICAgICBpZiAoIWUucGFnZVggJiYgIWUucGFnZVkgJiYgZS5vcmlnaW5hbEV2ZW50ICYmIGUub3JpZ2luYWxFdmVudC50b3VjaGVzKSB7XG4gICAgICAgIGUucGFnZVggPSBlLm9yaWdpbmFsRXZlbnQudG91Y2hlc1swXS5wYWdlWDtcbiAgICAgICAgZS5wYWdlWSA9IGUub3JpZ2luYWxFdmVudC50b3VjaGVzWzBdLnBhZ2VZO1xuICAgICAgfVxuICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgdmFyIHRhcmdldCA9ICQoZS50YXJnZXQpO1xuXG4gICAgICAvL2RldGVjdCB0aGUgc2xpZGVyIGFuZCBzZXQgdGhlIGxpbWl0cyBhbmQgY2FsbGJhY2tzXG4gICAgICB2YXIgem9uZSA9IHRhcmdldC5jbG9zZXN0KCdkaXYnKTtcbiAgICAgIHZhciBzbCA9IHRoaXMub3B0aW9ucy5ob3Jpem9udGFsID8gdGhpcy5vcHRpb25zLnNsaWRlcnNIb3J6IDogdGhpcy5vcHRpb25zLnNsaWRlcnM7XG4gICAgICBpZiAoIXpvbmUuaXMoJy5jb2xvcnBpY2tlcicpKSB7XG4gICAgICAgIGlmICh6b25lLmlzKCcuY29sb3JwaWNrZXItc2F0dXJhdGlvbicpKSB7XG4gICAgICAgICAgdGhpcy5jdXJyZW50U2xpZGVyID0gJC5leHRlbmQoe30sIHNsLnNhdHVyYXRpb24pO1xuICAgICAgICB9IGVsc2UgaWYgKHpvbmUuaXMoJy5jb2xvcnBpY2tlci1odWUnKSkge1xuICAgICAgICAgIHRoaXMuY3VycmVudFNsaWRlciA9ICQuZXh0ZW5kKHt9LCBzbC5odWUpO1xuICAgICAgICB9IGVsc2UgaWYgKHpvbmUuaXMoJy5jb2xvcnBpY2tlci1hbHBoYScpKSB7XG4gICAgICAgICAgdGhpcy5jdXJyZW50U2xpZGVyID0gJC5leHRlbmQoe30sIHNsLmFscGhhKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG9mZnNldCA9IHpvbmUub2Zmc2V0KCk7XG4gICAgICAgIC8vcmVmZXJlbmNlIHRvIGd1aWRlJ3Mgc3R5bGVcbiAgICAgICAgdGhpcy5jdXJyZW50U2xpZGVyLmd1aWRlID0gem9uZS5maW5kKCdpJylbMF0uc3R5bGU7XG4gICAgICAgIHRoaXMuY3VycmVudFNsaWRlci5sZWZ0ID0gZS5wYWdlWCAtIG9mZnNldC5sZWZ0O1xuICAgICAgICB0aGlzLmN1cnJlbnRTbGlkZXIudG9wID0gZS5wYWdlWSAtIG9mZnNldC50b3A7XG4gICAgICAgIHRoaXMubW91c2VQb2ludGVyID0ge1xuICAgICAgICAgIGxlZnQ6IGUucGFnZVgsXG4gICAgICAgICAgdG9wOiBlLnBhZ2VZXG4gICAgICAgIH07XG4gICAgICAgIC8vdHJpZ2dlciBtb3VzZW1vdmUgdG8gbW92ZSB0aGUgZ3VpZGUgdG8gdGhlIGN1cnJlbnQgcG9zaXRpb25cbiAgICAgICAgJCh3aW5kb3cuZG9jdW1lbnQpLm9uKHtcbiAgICAgICAgICAnbW91c2Vtb3ZlLmNvbG9ycGlja2VyJzogJC5wcm94eSh0aGlzLm1vdXNlbW92ZSwgdGhpcyksXG4gICAgICAgICAgJ3RvdWNobW92ZS5jb2xvcnBpY2tlcic6ICQucHJveHkodGhpcy5tb3VzZW1vdmUsIHRoaXMpLFxuICAgICAgICAgICdtb3VzZXVwLmNvbG9ycGlja2VyJzogJC5wcm94eSh0aGlzLm1vdXNldXAsIHRoaXMpLFxuICAgICAgICAgICd0b3VjaGVuZC5jb2xvcnBpY2tlcic6ICQucHJveHkodGhpcy5tb3VzZXVwLCB0aGlzKVxuICAgICAgICB9KS50cmlnZ2VyKCdtb3VzZW1vdmUnKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9LFxuICAgIG1vdXNlbW92ZTogZnVuY3Rpb24oZSkge1xuICAgICAgaWYgKCFlLnBhZ2VYICYmICFlLnBhZ2VZICYmIGUub3JpZ2luYWxFdmVudCAmJiBlLm9yaWdpbmFsRXZlbnQudG91Y2hlcykge1xuICAgICAgICBlLnBhZ2VYID0gZS5vcmlnaW5hbEV2ZW50LnRvdWNoZXNbMF0ucGFnZVg7XG4gICAgICAgIGUucGFnZVkgPSBlLm9yaWdpbmFsRXZlbnQudG91Y2hlc1swXS5wYWdlWTtcbiAgICAgIH1cbiAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB2YXIgbGVmdCA9IE1hdGgubWF4KFxuICAgICAgICAwLFxuICAgICAgICBNYXRoLm1pbihcbiAgICAgICAgICB0aGlzLmN1cnJlbnRTbGlkZXIubWF4TGVmdCxcbiAgICAgICAgICB0aGlzLmN1cnJlbnRTbGlkZXIubGVmdCArICgoZS5wYWdlWCB8fCB0aGlzLm1vdXNlUG9pbnRlci5sZWZ0KSAtIHRoaXMubW91c2VQb2ludGVyLmxlZnQpXG4gICAgICAgIClcbiAgICAgICk7XG4gICAgICB2YXIgdG9wID0gTWF0aC5tYXgoXG4gICAgICAgIDAsXG4gICAgICAgIE1hdGgubWluKFxuICAgICAgICAgIHRoaXMuY3VycmVudFNsaWRlci5tYXhUb3AsXG4gICAgICAgICAgdGhpcy5jdXJyZW50U2xpZGVyLnRvcCArICgoZS5wYWdlWSB8fCB0aGlzLm1vdXNlUG9pbnRlci50b3ApIC0gdGhpcy5tb3VzZVBvaW50ZXIudG9wKVxuICAgICAgICApXG4gICAgICApO1xuICAgICAgdGhpcy5jdXJyZW50U2xpZGVyLmd1aWRlLmxlZnQgPSBsZWZ0ICsgJ3B4JztcbiAgICAgIHRoaXMuY3VycmVudFNsaWRlci5ndWlkZS50b3AgPSB0b3AgKyAncHgnO1xuICAgICAgaWYgKHRoaXMuY3VycmVudFNsaWRlci5jYWxsTGVmdCkge1xuICAgICAgICB0aGlzLmNvbG9yW3RoaXMuY3VycmVudFNsaWRlci5jYWxsTGVmdF0uY2FsbCh0aGlzLmNvbG9yLCBsZWZ0IC8gdGhpcy5jdXJyZW50U2xpZGVyLm1heExlZnQpO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMuY3VycmVudFNsaWRlci5jYWxsVG9wKSB7XG4gICAgICAgIHRoaXMuY29sb3JbdGhpcy5jdXJyZW50U2xpZGVyLmNhbGxUb3BdLmNhbGwodGhpcy5jb2xvciwgdG9wIC8gdGhpcy5jdXJyZW50U2xpZGVyLm1heFRvcCk7XG4gICAgICB9XG4gICAgICAvLyBDaGFuZ2UgZm9ybWF0IGR5bmFtaWNhbGx5XG4gICAgICAvLyBPbmx5IG9jY3VycyBpZiB1c2VyIGNob29zZSB0aGUgZHluYW1pYyBmb3JtYXQgYnlcbiAgICAgIC8vIHNldHRpbmcgb3B0aW9uIGZvcm1hdCB0byBmYWxzZVxuICAgICAgaWYgKFxuICAgICAgICB0aGlzLm9wdGlvbnMuZm9ybWF0ID09PSBmYWxzZSAmJlxuICAgICAgICAodGhpcy5jdXJyZW50U2xpZGVyLmNhbGxUb3AgPT09ICdzZXRBbHBoYScgfHxcbiAgICAgICAgICB0aGlzLmN1cnJlbnRTbGlkZXIuY2FsbExlZnQgPT09ICdzZXRBbHBoYScpXG4gICAgICApIHtcblxuICAgICAgICAvLyBDb252ZXJ0aW5nIGZyb20gaGV4IC8gcmdiIHRvIHJnYmFcbiAgICAgICAgaWYgKHRoaXMuY29sb3IudmFsdWUuYSAhPT0gMSkge1xuICAgICAgICAgIHRoaXMuZm9ybWF0ID0gJ3JnYmEnO1xuICAgICAgICAgIHRoaXMuY29sb3Iub3JpZ0Zvcm1hdCA9ICdyZ2JhJztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENvbnZlcnRpbmcgZnJvbSByZ2JhIHRvIGhleFxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICB0aGlzLmZvcm1hdCA9ICdoZXgnO1xuICAgICAgICAgIHRoaXMuY29sb3Iub3JpZ0Zvcm1hdCA9ICdoZXgnO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB0aGlzLnVwZGF0ZSh0cnVlKTtcblxuICAgICAgdGhpcy5lbGVtZW50LnRyaWdnZXIoe1xuICAgICAgICB0eXBlOiAnY2hhbmdlQ29sb3InLFxuICAgICAgICBjb2xvcjogdGhpcy5jb2xvclxuICAgICAgfSk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSxcbiAgICBtb3VzZXVwOiBmdW5jdGlvbihlKSB7XG4gICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgJCh3aW5kb3cuZG9jdW1lbnQpLm9mZih7XG4gICAgICAgICdtb3VzZW1vdmUuY29sb3JwaWNrZXInOiB0aGlzLm1vdXNlbW92ZSxcbiAgICAgICAgJ3RvdWNobW92ZS5jb2xvcnBpY2tlcic6IHRoaXMubW91c2Vtb3ZlLFxuICAgICAgICAnbW91c2V1cC5jb2xvcnBpY2tlcic6IHRoaXMubW91c2V1cCxcbiAgICAgICAgJ3RvdWNoZW5kLmNvbG9ycGlja2VyJzogdGhpcy5tb3VzZXVwXG4gICAgICB9KTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9LFxuICAgIGNoYW5nZTogZnVuY3Rpb24oZSkge1xuICAgICAgdGhpcy5rZXl1cChlKTtcbiAgICB9LFxuICAgIGtleXVwOiBmdW5jdGlvbihlKSB7XG4gICAgICBpZiAoKGUua2V5Q29kZSA9PT0gMzgpKSB7XG4gICAgICAgIGlmICh0aGlzLmNvbG9yLnZhbHVlLmEgPCAxKSB7XG4gICAgICAgICAgdGhpcy5jb2xvci52YWx1ZS5hID0gTWF0aC5yb3VuZCgodGhpcy5jb2xvci52YWx1ZS5hICsgMC4wMSkgKiAxMDApIC8gMTAwO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudXBkYXRlKHRydWUpO1xuICAgICAgfSBlbHNlIGlmICgoZS5rZXlDb2RlID09PSA0MCkpIHtcbiAgICAgICAgaWYgKHRoaXMuY29sb3IudmFsdWUuYSA+IDApIHtcbiAgICAgICAgICB0aGlzLmNvbG9yLnZhbHVlLmEgPSBNYXRoLnJvdW5kKCh0aGlzLmNvbG9yLnZhbHVlLmEgLSAwLjAxKSAqIDEwMCkgLyAxMDA7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy51cGRhdGUodHJ1ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmNvbG9yID0gdGhpcy5jcmVhdGVDb2xvcih0aGlzLmlucHV0LnZhbCgpKTtcbiAgICAgICAgLy8gQ2hhbmdlIGZvcm1hdCBkeW5hbWljYWxseVxuICAgICAgICAvLyBPbmx5IG9jY3VycyBpZiB1c2VyIGNob29zZSB0aGUgZHluYW1pYyBmb3JtYXQgYnlcbiAgICAgICAgLy8gc2V0dGluZyBvcHRpb24gZm9ybWF0IHRvIGZhbHNlXG4gICAgICAgIGlmICh0aGlzLmNvbG9yLm9yaWdGb3JtYXQgJiYgdGhpcy5vcHRpb25zLmZvcm1hdCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICB0aGlzLmZvcm1hdCA9IHRoaXMuY29sb3Iub3JpZ0Zvcm1hdDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5nZXRWYWx1ZShmYWxzZSkgIT09IGZhbHNlKSB7XG4gICAgICAgICAgdGhpcy51cGRhdGVEYXRhKCk7XG4gICAgICAgICAgdGhpcy51cGRhdGVDb21wb25lbnQoKTtcbiAgICAgICAgICB0aGlzLnVwZGF0ZVBpY2tlcigpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB0aGlzLmVsZW1lbnQudHJpZ2dlcih7XG4gICAgICAgIHR5cGU6ICdjaGFuZ2VDb2xvcicsXG4gICAgICAgIGNvbG9yOiB0aGlzLmNvbG9yLFxuICAgICAgICB2YWx1ZTogdGhpcy5pbnB1dC52YWwoKVxuICAgICAgfSk7XG4gICAgfVxuICB9O1xuXG4gICQuY29sb3JwaWNrZXIgPSBDb2xvcnBpY2tlcjtcblxuICAkLmZuLmNvbG9ycGlja2VyID0gZnVuY3Rpb24ob3B0aW9uKSB7XG4gICAgdmFyIGFwaUFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpLFxuICAgICAgaXNTaW5nbGVFbGVtZW50ID0gKHRoaXMubGVuZ3RoID09PSAxKSxcbiAgICAgIHJldHVyblZhbHVlID0gbnVsbDtcblxuICAgIHZhciAkanEgPSB0aGlzLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgJHRoaXMgPSAkKHRoaXMpLFxuICAgICAgICBpbnN0ID0gJHRoaXMuZGF0YSgnY29sb3JwaWNrZXInKSxcbiAgICAgICAgb3B0aW9ucyA9ICgodHlwZW9mIG9wdGlvbiA9PT0gJ29iamVjdCcpID8gb3B0aW9uIDoge30pO1xuXG4gICAgICBpZiAoIWluc3QpIHtcbiAgICAgICAgaW5zdCA9IG5ldyBDb2xvcnBpY2tlcih0aGlzLCBvcHRpb25zKTtcbiAgICAgICAgJHRoaXMuZGF0YSgnY29sb3JwaWNrZXInLCBpbnN0KTtcbiAgICAgIH1cblxuICAgICAgaWYgKHR5cGVvZiBvcHRpb24gPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIGlmICgkLmlzRnVuY3Rpb24oaW5zdFtvcHRpb25dKSkge1xuICAgICAgICAgIHJldHVyblZhbHVlID0gaW5zdFtvcHRpb25dLmFwcGx5KGluc3QsIGFwaUFyZ3MpO1xuICAgICAgICB9IGVsc2UgeyAvLyBpdHMgYSBwcm9wZXJ0eSA/XG4gICAgICAgICAgaWYgKGFwaUFyZ3MubGVuZ3RoKSB7XG4gICAgICAgICAgICAvLyBzZXQgcHJvcGVydHlcbiAgICAgICAgICAgIGluc3Rbb3B0aW9uXSA9IGFwaUFyZ3NbMF07XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVyblZhbHVlID0gaW5zdFtvcHRpb25dO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm5WYWx1ZSA9ICR0aGlzO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBpc1NpbmdsZUVsZW1lbnQgPyByZXR1cm5WYWx1ZSA6ICRqcTtcbiAgfTtcblxuICAkLmZuLmNvbG9ycGlja2VyLmNvbnN0cnVjdG9yID0gQ29sb3JwaWNrZXI7XG5cbn0pKTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBLFdBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/bootstrap-colorpicker/dist/js/bootstrap-colorpicker.js\n");

/***/ }),

/***/ "./node_modules/mattermost-redux/actions/timezone.js":
/*!***********************************************************!*\
  !*** ./node_modules/mattermost-redux/actions/timezone.js ***!
  \***********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nexports.autoUpdateTimezone = autoUpdateTimezone;\n\nvar _users = __webpack_require__(/*! ../selectors/entities/users */ \"./node_modules/mattermost-redux/selectors/entities/users.js\");\n\nvar _timezone = __webpack_require__(/*! ../selectors/entities/timezone */ \"./node_modules/mattermost-redux/selectors/entities/timezone.js\");\n\nvar _users2 = __webpack_require__(/*! ./users */ \"./node_modules/mattermost-redux/actions/users.js\");\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; } // Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\n\nfunction autoUpdateTimezone(deviceTimezone) {\n    var _this = this;\n\n    return function () {\n        var _ref = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(dispatch, getState) {\n            var currentUer, currentTimezone, newTimezoneExists, timezone, updatedUser;\n            return regeneratorRuntime.wrap(function _callee$(_context) {\n                while (1) {\n                    switch (_context.prev = _context.next) {\n                        case 0:\n                            currentUer = (0, _users.getCurrentUser)(getState());\n                            currentTimezone = (0, _timezone.getUserTimezone)(getState(), currentUer.id);\n                            newTimezoneExists = currentTimezone.automaticTimezone !== deviceTimezone;\n\n\n                            if (currentTimezone.useAutomaticTimezone && newTimezoneExists) {\n                                timezone = {\n                                    useAutomaticTimezone: 'true',\n                                    automaticTimezone: deviceTimezone,\n                                    manualTimezone: currentTimezone.manualTimezone\n                                };\n                                updatedUser = _extends({}, currentUer, {\n                                    timezone: timezone\n                                });\n\n\n                                (0, _users2.updateMe)(updatedUser)(dispatch, getState);\n                            }\n\n                        case 4:\n                        case 'end':\n                            return _context.stop();\n                    }\n                }\n            }, _callee, _this);\n        }));\n\n        return function (_x, _x2) {\n            return _ref.apply(this, arguments);\n        };\n    }();\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbWF0dGVybW9zdC1yZWR1eC9hY3Rpb25zL3RpbWV6b25lLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL21hdHRlcm1vc3QtcmVkdXgvYWN0aW9ucy90aW1lem9uZS5qcz8xYjQ5Il0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9O1xuXG5leHBvcnRzLmF1dG9VcGRhdGVUaW1lem9uZSA9IGF1dG9VcGRhdGVUaW1lem9uZTtcblxudmFyIF91c2VycyA9IHJlcXVpcmUoJy4uL3NlbGVjdG9ycy9lbnRpdGllcy91c2VycycpO1xuXG52YXIgX3RpbWV6b25lID0gcmVxdWlyZSgnLi4vc2VsZWN0b3JzL2VudGl0aWVzL3RpbWV6b25lJyk7XG5cbnZhciBfdXNlcnMyID0gcmVxdWlyZSgnLi91c2VycycpO1xuXG5mdW5jdGlvbiBfYXN5bmNUb0dlbmVyYXRvcihmbikgeyByZXR1cm4gZnVuY3Rpb24gKCkgeyB2YXIgZ2VuID0gZm4uYXBwbHkodGhpcywgYXJndW1lbnRzKTsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsgZnVuY3Rpb24gc3RlcChrZXksIGFyZykgeyB0cnkgeyB2YXIgaW5mbyA9IGdlbltrZXldKGFyZyk7IHZhciB2YWx1ZSA9IGluZm8udmFsdWU7IH0gY2F0Y2ggKGVycm9yKSB7IHJlamVjdChlcnJvcik7IHJldHVybjsgfSBpZiAoaW5mby5kb25lKSB7IHJlc29sdmUodmFsdWUpOyB9IGVsc2UgeyByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHZhbHVlKS50aGVuKGZ1bmN0aW9uICh2YWx1ZSkgeyBzdGVwKFwibmV4dFwiLCB2YWx1ZSk7IH0sIGZ1bmN0aW9uIChlcnIpIHsgc3RlcChcInRocm93XCIsIGVycik7IH0pOyB9IH0gcmV0dXJuIHN0ZXAoXCJuZXh0XCIpOyB9KTsgfTsgfSAvLyBDb3B5cmlnaHQgKGMpIDIwMTUtcHJlc2VudCBNYXR0ZXJtb3N0LCBJbmMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4vLyBTZWUgTElDRU5TRS50eHQgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uXG5cblxuZnVuY3Rpb24gYXV0b1VwZGF0ZVRpbWV6b25lKGRldmljZVRpbWV6b25lKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfcmVmID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKGRpc3BhdGNoLCBnZXRTdGF0ZSkge1xuICAgICAgICAgICAgdmFyIGN1cnJlbnRVZXIsIGN1cnJlbnRUaW1lem9uZSwgbmV3VGltZXpvbmVFeGlzdHMsIHRpbWV6b25lLCB1cGRhdGVkVXNlcjtcbiAgICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkge1xuICAgICAgICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50VWVyID0gKDAsIF91c2Vycy5nZXRDdXJyZW50VXNlcikoZ2V0U3RhdGUoKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFRpbWV6b25lID0gKDAsIF90aW1lem9uZS5nZXRVc2VyVGltZXpvbmUpKGdldFN0YXRlKCksIGN1cnJlbnRVZXIuaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld1RpbWV6b25lRXhpc3RzID0gY3VycmVudFRpbWV6b25lLmF1dG9tYXRpY1RpbWV6b25lICE9PSBkZXZpY2VUaW1lem9uZTtcblxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRUaW1lem9uZS51c2VBdXRvbWF0aWNUaW1lem9uZSAmJiBuZXdUaW1lem9uZUV4aXN0cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1lem9uZSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZUF1dG9tYXRpY1RpbWV6b25lOiAndHJ1ZScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdXRvbWF0aWNUaW1lem9uZTogZGV2aWNlVGltZXpvbmUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYW51YWxUaW1lem9uZTogY3VycmVudFRpbWV6b25lLm1hbnVhbFRpbWV6b25lXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZWRVc2VyID0gX2V4dGVuZHMoe30sIGN1cnJlbnRVZXIsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWV6b25lOiB0aW1lem9uZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICgwLCBfdXNlcnMyLnVwZGF0ZU1lKSh1cGRhdGVkVXNlcikoZGlzcGF0Y2gsIGdldFN0YXRlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ2VuZCc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIF9jYWxsZWUsIF90aGlzKTtcbiAgICAgICAgfSkpO1xuXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoX3gsIF94Mikge1xuICAgICAgICAgICAgcmV0dXJuIF9yZWYuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgICAgfTtcbiAgICB9KCk7XG59Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/mattermost-redux/actions/timezone.js\n");

/***/ })

}]);